
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>키움증권 OpenAPI+ 사용 예시 &#8212; KOAPY 0.6.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/style.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="google-site-verification" content="DIMzk5-2xmV7MoAYJYUGi1PGowNXA7NB8dome7s1e5k" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">KOAPY</a></h1>



<p class="blurb">Kiwoom Open Api Plus Python</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=elbakramer&repo=koapy&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../readme.html">KOAPY</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/index.html">Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../autoapi/index.html">API Reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>


<h3 class="donation">Donate/support</h3>



<p>
<a class="badge" href="https://toon.at/donate/637521884081401532">
<img src="https://img.shields.io/badge/donate-%E2%9D%A4%C2%A0-ff69b4.svg?style=flat" alt="Donate">
</a>
</p>





        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<section id="키움증권-OpenAPI+-사용-예시">
<h1>키움증권 OpenAPI+ 사용 예시<a class="headerlink" href="#키움증권-OpenAPI+-사용-예시" title="Permalink to this headline">¶</a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">logging</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span>
    <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1"> [</span><span class="si">%(levelname)s</span><span class="s1">] </span><span class="si">%(message)s</span><span class="s1"> - </span><span class="si">%(filename)s</span><span class="s1">:</span><span class="si">%(lineno)d</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;matplotlib&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">)</span>
</pre></div>
</div>
</div>
<section id="1.-엔트리포인트-객체-생성">
<h2>1. 엔트리포인트 객체 생성<a class="headerlink" href="#1.-엔트리포인트-객체-생성" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">koapy</span> <span class="kn">import</span> <span class="n">KiwoomOpenApiPlusEntrypoint</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">entrypoint</span> <span class="o">=</span> <span class="n">KiwoomOpenApiPlusEntrypoint</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2021-08-20 14:56:50,328 [DEBUG] Testing if client is ready... - KiwoomOpenApiPlusEntrypoint.py:45
2021-08-20 14:57:00,347 [DEBUG] Client is not ready - KiwoomOpenApiPlusEntrypoint.py:47
2021-08-20 14:57:00,348 [DEBUG] Creating a new server... - KiwoomOpenApiPlusEntrypoint.py:48
</pre></div></div>
</div>
<p>주요한 기능들은 해당 엔트리포인트의 멤버함수로써 제공된다.</p>
<p>예를 들어 아래와 같이 서버 접속 이전에도 실행 가능한 아래 함수를 활용하면 OpenAPI 가 정상적으로 로드되었는지 간접적으로 확인 가능하다.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">module_path</span> <span class="o">=</span> <span class="n">entrypoint</span><span class="o">.</span><span class="n">GetAPIModulePath</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">module_path</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;C:\\OpenAPI&#39;
</pre></div></div>
</div>
</section>
<section id="2.-서버-접속">
<h2>2. 서버 접속<a class="headerlink" href="#2.-서버-접속" title="Permalink to this headline">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">entrypoint</span><span class="o">.</span><span class="n">EnsureConnected</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
</pre></div></div>
</div>
<p>자동 로그인 설정이 되어있는 경우 로그인이 자동으로 처리되며, 그렇지 않은 경우에는 수동으로 아이디, 비밀번호 등 로그인 정보를 입력해 처리해주어야 한다.</p>
<p>만약에 함수 인자로 <code class="docutils literal notranslate"><span class="pre">credential</span></code> 정보를 주는 경우 <code class="docutils literal notranslate"><span class="pre">`pywinauto</span></code> &lt;<a class="reference external" href="https://github.com/pywinauto/pywinauto">https://github.com/pywinauto/pywinauto</a>&gt;`__ 를 활용하여 자동으로 로그인 처리를 진행한다. 앞서 언급한 키움증권에서 기본으로 제공하는 자동 로그인이 아니라 기존에 수동으로 처리하던 과정을 매크로 형태로 자동으로 처리하는 방식이다. 참고로 <code class="docutils literal notranslate"><span class="pre">`pywinauto</span></code> &lt;<a class="reference external" href="https://github.com/pywinauto/pywinauto">https://github.com/pywinauto/pywinauto</a>&gt;`__ 사용을 위해서는 <strong>관리자 권한</strong>이 필요하다.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">credential</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;user_id&#39;</span><span class="p">:</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span>
    <span class="s1">&#39;user_password&#39;</span><span class="p">:</span> <span class="s1">&#39;password&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cert_password&#39;</span><span class="p">:</span> <span class="s1">&#39;password&#39;</span><span class="p">,</span>
    <span class="s1">&#39;is_simulation&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s1">&#39;account_passwords&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;0000000000&#39;</span><span class="p">:</span> <span class="s1">&#39;0000&#39;</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">entrypoint</span><span class="o">.</span><span class="n">EnsureConnected</span><span class="p">(</span><span class="n">credential</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
</pre></div></div>
</div>
<p>참고로 여기서는 이미 로그인이 되어있는 상황이므로 위의 함수가 추가적인 로그인처리를 진행하지는 않게 된다.</p>
</section>
<section id="3.-기본-함수-실행">
<h2>3. 기본 함수 실행<a class="headerlink" href="#3.-기본-함수-실행" title="Permalink to this headline">¶</a></h2>
<p>다시 한번 기본 함수를 통해 접속상태를 확인해보자. 아래 값이 1 인 경우 정상 접속 상태이다. 접속되어 있지 않은 경우라면 0 을 반환한다.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">entrypoint</span><span class="o">.</span><span class="n">GetConnectState</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1
</pre></div></div>
</div>
<p>이후 예시들에서 사용하기 위해 삼성전자의 코드를 확인한다.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">codes</span> <span class="o">=</span> <span class="n">entrypoint</span><span class="o">.</span><span class="n">GetCodeListByMarketAsList</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">)</span>
<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="n">entrypoint</span><span class="o">.</span><span class="n">GetMasterCodeName</span><span class="p">(</span><span class="n">code</span><span class="p">)</span> <span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">codes</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">codes_by_name</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">codes</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>위에서 <code class="docutils literal notranslate"><span class="pre">GetCodeListByMarketAsList()</span></code> 함수는 기존의 <code class="docutils literal notranslate"><span class="pre">GetCodeListByMarket()</span></code> 함수 호출시 나오는 문자열 형태의 결과를 편의를 위해 리스트 형태로 변환해서 제공한다.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">code</span> <span class="o">=</span> <span class="n">samsung_code</span> <span class="o">=</span> <span class="n">codes_by_name</span><span class="p">[</span><span class="s1">&#39;삼성전자&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">code</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;005930&#39;
</pre></div></div>
</div>
</section>
<section id="4.-TR-요청-예시">
<h2>4. TR 요청 예시<a class="headerlink" href="#4.-TR-요청-예시" title="Permalink to this headline">¶</a></h2>
<section id="상위-함수-사용-예시">
<h3>상위 함수 사용 예시<a class="headerlink" href="#상위-함수-사용-예시" title="Permalink to this headline">¶</a></h3>
<p>몇가지 자주 쓰이는 TR 들에 대해서는 요청 및 결과 이벤트 처리까지 완료해서 결과물만 반환하는 상위함수를 제공하고 있다.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">info</span> <span class="o">=</span> <span class="n">entrypoint</span><span class="o">.</span><span class="n">GetStockBasicInfoAsDict</span><span class="p">(</span><span class="n">code</span><span class="p">)</span> <span class="c1"># opt10001</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">info</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;종목코드&#39;: &#39;005930&#39;,
 &#39;종목명&#39;: &#39;삼성전자&#39;,
 &#39;결산월&#39;: &#39;12&#39;,
 &#39;액면가&#39;: &#39;100&#39;,
 &#39;자본금&#39;: &#39;7780&#39;,
 &#39;상장주식&#39;: &#39;5969783&#39;,
 &#39;신용비율&#39;: &#39;+0.21&#39;,
 &#39;연중최고&#39;: &#39;+96800&#39;,
 &#39;연중최저&#39;: &#39;-72500&#39;,
 &#39;시가총액&#39;: &#39;4340032&#39;,
 &#39;시가총액비중&#39;: &#39;&#39;,
 &#39;외인소진률&#39;: &#39;+51.82&#39;,
 &#39;대용가&#39;: &#39;58480&#39;,
 &#39;PER&#39;: &#39;18.93&#39;,
 &#39;EPS&#39;: &#39;3841&#39;,
 &#39;ROE&#39;: &#39;10.0&#39;,
 &#39;PBR&#39;: &#39;1.84&#39;,
 &#39;EV&#39;: &#39;4.97&#39;,
 &#39;BPS&#39;: &#39;39406&#39;,
 &#39;매출액&#39;: &#39;2368070&#39;,
 &#39;영업이익&#39;: &#39;359939&#39;,
 &#39;당기순이익&#39;: &#39;264078&#39;,
 &#39;250최고&#39;: &#39;+96800&#39;,
 &#39;250최저&#39;: &#39;-54000&#39;,
 &#39;시가&#39;: &#39;+73500&#39;,
 &#39;고가&#39;: &#39;+73900&#39;,
 &#39;저가&#39;: &#39;-72500&#39;,
 &#39;상한가&#39;: &#39;+95000&#39;,
 &#39;하한가&#39;: &#39;-51200&#39;,
 &#39;기준가&#39;: &#39;73100&#39;,
 &#39;예상체결가&#39;: &#39;-0&#39;,
 &#39;예상체결수량&#39;: &#39;0&#39;,
 &#39;250최고가일&#39;: &#39;20210111&#39;,
 &#39;250최고가대비율&#39;: &#39;-24.90&#39;,
 &#39;250최저가일&#39;: &#39;20200831&#39;,
 &#39;250최저가대비율&#39;: &#39;+34.63&#39;,
 &#39;현재가&#39;: &#39;-72700&#39;,
 &#39;대비기호&#39;: &#39;5&#39;,
 &#39;전일대비&#39;: &#39;-400&#39;,
 &#39;등락율&#39;: &#39;-0.55&#39;,
 &#39;거래량&#39;: &#39;19675557&#39;,
 &#39;거래대비&#39;: &#39;-88.76&#39;,
 &#39;액면가단위&#39;: &#39;원&#39;,
 &#39;유통주식&#39;: &#39;4452954&#39;,
 &#39;유통비율&#39;: &#39;74.6&#39;}
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">data</span> <span class="o">=</span> <span class="n">entrypoint</span><span class="o">.</span><span class="n">GetDailyStockDataAsDataFrame</span><span class="p">(</span><span class="n">code</span><span class="p">)</span> <span class="c1"># opt10081</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2021-08-20 14:57:38,013 [DEBUG] Received 600 records from 2021-08-20 00:00:00 to 2019-03-22 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:57:38,302 [DEBUG] Received 600 records from 2019-03-21 00:00:00 to 2016-10-07 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:57:38,590 [DEBUG] Received 600 records from 2016-10-06 00:00:00 to 2014-04-25 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:57:38,870 [DEBUG] Received 600 records from 2014-04-24 00:00:00 to 2011-11-24 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:57:55,711 [DEBUG] Received 600 records from 2011-11-23 00:00:00 to 2009-07-03 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:57:56,045 [DEBUG] Received 600 records from 2009-07-02 00:00:00 to 2007-01-30 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:57:56,335 [DEBUG] Received 600 records from 2007-01-29 00:00:00 to 2004-09-01 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:57:56,650 [DEBUG] Received 600 records from 2004-08-31 00:00:00 to 2002-03-27 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:57:56,932 [DEBUG] Received 600 records from 2002-03-26 00:00:00 to 1999-10-11 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:58:13,747 [DEBUG] Received 600 records from 1999-10-08 00:00:00 to 1997-08-07 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:58:14,037 [DEBUG] Received 600 records from 1997-08-06 00:00:00 to 1995-07-22 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:58:14,338 [DEBUG] Received 600 records from 1995-07-21 00:00:00 to 1993-07-10 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:58:14,617 [DEBUG] Received 600 records from 1993-07-09 00:00:00 to 1991-06-26 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:58:14,963 [DEBUG] Received 600 records from 1991-06-25 00:00:00 to 1989-06-01 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:58:31,738 [DEBUG] Received 600 records from 1989-05-31 00:00:00 to 1987-05-11 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:58:32,021 [DEBUG] Received 600 records from 1987-05-09 00:00:00 to 1985-04-25 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:58:32,105 [DEBUG] Received 91 records from 1985-04-24 00:00:00 to 1985-01-04 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">data</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>종목코드</th>
      <th>현재가</th>
      <th>거래량</th>
      <th>거래대금</th>
      <th>일자</th>
      <th>시가</th>
      <th>고가</th>
      <th>저가</th>
      <th>수정주가구분</th>
      <th>수정비율</th>
      <th>대업종구분</th>
      <th>소업종구분</th>
      <th>종목정보</th>
      <th>수정주가이벤트</th>
      <th>전일종가</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>005930</td>
      <td>72700</td>
      <td>19675557</td>
      <td>1438357</td>
      <td>20210820</td>
      <td>73500</td>
      <td>73900</td>
      <td>72500</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>1</th>
      <td></td>
      <td>73100</td>
      <td>22166298</td>
      <td>1630829</td>
      <td>20210819</td>
      <td>73500</td>
      <td>74400</td>
      <td>73100</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>2</th>
      <td></td>
      <td>73900</td>
      <td>29192631</td>
      <td>2156728</td>
      <td>20210818</td>
      <td>73900</td>
      <td>74600</td>
      <td>73100</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>3</th>
      <td></td>
      <td>74200</td>
      <td>30944847</td>
      <td>2304423</td>
      <td>20210817</td>
      <td>74000</td>
      <td>75100</td>
      <td>74000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>4</th>
      <td></td>
      <td>74400</td>
      <td>61270643</td>
      <td>4575268</td>
      <td>20210813</td>
      <td>75800</td>
      <td>76000</td>
      <td>74100</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>9686</th>
      <td></td>
      <td>8010</td>
      <td>4970</td>
      <td>1</td>
      <td>19850109</td>
      <td>8240</td>
      <td>8240</td>
      <td>7950</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>9687</th>
      <td></td>
      <td>8300</td>
      <td>12930</td>
      <td>4</td>
      <td>19850108</td>
      <td>8400</td>
      <td>8400</td>
      <td>8300</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>9688</th>
      <td></td>
      <td>8410</td>
      <td>11810</td>
      <td>3</td>
      <td>19850107</td>
      <td>8400</td>
      <td>8500</td>
      <td>8390</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>9689</th>
      <td></td>
      <td>8390</td>
      <td>1660</td>
      <td>0</td>
      <td>19850105</td>
      <td>8400</td>
      <td>8440</td>
      <td>8390</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>9690</th>
      <td></td>
      <td>8450</td>
      <td>1710</td>
      <td>0</td>
      <td>19850104</td>
      <td>8500</td>
      <td>8500</td>
      <td>8450</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
<p>9691 rows × 15 columns</p>
</div></div>
</div>
<p>데이터가 최대한 있는 그대로 (주로 문자열 형태로) 반환되기 때문에 필요하다면 타입 변환을 거쳐 사용한다.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dates</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;일자&#39;</span><span class="p">],</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">closes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;현재가&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">closes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&lt;matplotlib.lines.Line2D at 0x195dcbf8&gt;]
</pre></div></div>
</div>
<p>주가 데이터에서 수정주가가 필요한 경우에는 <code class="docutils literal notranslate"><span class="pre">adjusted_price=True</span></code> 파라미터를 설정해 호출한다.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">data_adjusted</span> <span class="o">=</span> <span class="n">entrypoint</span><span class="o">.</span><span class="n">GetDailyStockDataAsDataFrame</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">adjusted_price</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2021-08-20 14:58:32,657 [DEBUG] Received 600 records from 2021-08-20 00:00:00 to 2019-03-22 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:58:32,935 [DEBUG] Received 600 records from 2019-03-21 00:00:00 to 2016-10-07 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:58:49,706 [DEBUG] Received 600 records from 2016-10-06 00:00:00 to 2014-04-25 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:58:50,057 [DEBUG] Received 600 records from 2014-04-24 00:00:00 to 2011-11-24 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:58:50,330 [DEBUG] Received 600 records from 2011-11-23 00:00:00 to 2009-07-03 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:58:50,650 [DEBUG] Received 600 records from 2009-07-02 00:00:00 to 2007-01-30 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:58:50,943 [DEBUG] Received 600 records from 2007-01-29 00:00:00 to 2004-09-01 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:59:07,726 [DEBUG] Received 600 records from 2004-08-31 00:00:00 to 2002-03-27 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:59:08,051 [DEBUG] Received 600 records from 2002-03-26 00:00:00 to 1999-10-11 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:59:08,349 [DEBUG] Received 600 records from 1999-10-08 00:00:00 to 1997-08-07 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:59:08,635 [DEBUG] Received 600 records from 1997-08-06 00:00:00 to 1995-07-22 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:59:08,950 [DEBUG] Received 600 records from 1995-07-21 00:00:00 to 1993-07-10 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:59:25,704 [DEBUG] Received 600 records from 1993-07-09 00:00:00 to 1991-06-26 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:59:26,058 [DEBUG] Received 600 records from 1991-06-25 00:00:00 to 1989-06-01 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:59:26,359 [DEBUG] Received 600 records from 1989-05-31 00:00:00 to 1987-05-11 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:59:26,648 [DEBUG] Received 600 records from 1987-05-09 00:00:00 to 1985-04-25 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
2021-08-20 14:59:26,735 [DEBUG] Received 91 records from 1985-04-24 00:00:00 to 1985-01-04 00:00:00 for code 005930 - KiwoomOpenApiPlusServiceClientStubWrapper.py:578
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dates</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">data_adjusted</span><span class="p">[</span><span class="s1">&#39;일자&#39;</span><span class="p">],</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">closes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">data_adjusted</span><span class="p">[</span><span class="s1">&#39;현재가&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">closes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&lt;matplotlib.lines.Line2D at 0x199edf0&gt;]
</pre></div></div>
</div>
</section>
<section id="하위-함수-사용-예시">
<h3>하위 함수 사용 예시<a class="headerlink" href="#하위-함수-사용-예시" title="Permalink to this headline">¶</a></h3>
<p>만약에 필요한 TR 에 대한 편의함수가 제공되지 않는 경우라면 아래처럼 직접 TR 요청에 필요한 입력값을 설정해 요청하고, 이후 스트림 형태로 들어오는 이벤트 또한 직접 처리해주는 방식으로 사용할 수 있다.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">rqname</span> <span class="o">=</span> <span class="s1">&#39;주식기본정보요청&#39;</span>
<span class="n">trcode</span> <span class="o">=</span> <span class="s1">&#39;opt10001&#39;</span>
<span class="n">screen_no</span> <span class="o">=</span> <span class="s1">&#39;0001&#39;</span>  <span class="c1"># 화면번호, 0000 을 제외한 4자리 숫자 임의로 지정, None 의 경우 내부적으로 화면번호 자동할당</span>
<span class="n">inputs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;종목코드&#39;</span><span class="p">:</span> <span class="n">code</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">output</span> <span class="o">=</span> <span class="p">{}</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Requesting data for request name: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">rqname</span><span class="p">)</span>
<span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">entrypoint</span><span class="o">.</span><span class="n">TransactionCall</span><span class="p">(</span><span class="n">rqname</span><span class="p">,</span> <span class="n">trcode</span><span class="p">,</span> <span class="n">screen_no</span><span class="p">,</span> <span class="n">inputs</span><span class="p">):</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Got event for request: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">rqname</span><span class="p">)</span>
    <span class="n">names</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">single_data</span><span class="o">.</span><span class="n">names</span>
    <span class="n">values</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">single_data</span><span class="o">.</span><span class="n">values</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
        <span class="n">output</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2021-08-20 14:59:26,884 [INFO] Requesting data for request name: 주식기본정보요청 - &lt;ipython-input-27-3a530eeaffe3&gt;:1
2021-08-20 14:59:43,381 [INFO] Got event for request: 주식기본정보요청 - &lt;ipython-input-27-3a530eeaffe3&gt;:3
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">output</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;종목코드&#39;: &#39;005930&#39;,
 &#39;종목명&#39;: &#39;삼성전자&#39;,
 &#39;결산월&#39;: &#39;12&#39;,
 &#39;액면가&#39;: &#39;100&#39;,
 &#39;자본금&#39;: &#39;7780&#39;,
 &#39;상장주식&#39;: &#39;5969783&#39;,
 &#39;신용비율&#39;: &#39;+0.21&#39;,
 &#39;연중최고&#39;: &#39;+96800&#39;,
 &#39;연중최저&#39;: &#39;-72500&#39;,
 &#39;시가총액&#39;: &#39;4340032&#39;,
 &#39;시가총액비중&#39;: &#39;&#39;,
 &#39;외인소진률&#39;: &#39;+51.82&#39;,
 &#39;대용가&#39;: &#39;58480&#39;,
 &#39;PER&#39;: &#39;18.93&#39;,
 &#39;EPS&#39;: &#39;3841&#39;,
 &#39;ROE&#39;: &#39;10.0&#39;,
 &#39;PBR&#39;: &#39;1.84&#39;,
 &#39;EV&#39;: &#39;4.97&#39;,
 &#39;BPS&#39;: &#39;39406&#39;,
 &#39;매출액&#39;: &#39;2368070&#39;,
 &#39;영업이익&#39;: &#39;359939&#39;,
 &#39;당기순이익&#39;: &#39;264078&#39;,
 &#39;250최고&#39;: &#39;+96800&#39;,
 &#39;250최저&#39;: &#39;-54000&#39;,
 &#39;시가&#39;: &#39;+73500&#39;,
 &#39;고가&#39;: &#39;+73900&#39;,
 &#39;저가&#39;: &#39;-72500&#39;,
 &#39;상한가&#39;: &#39;+95000&#39;,
 &#39;하한가&#39;: &#39;-51200&#39;,
 &#39;기준가&#39;: &#39;73100&#39;,
 &#39;예상체결가&#39;: &#39;-0&#39;,
 &#39;예상체결수량&#39;: &#39;0&#39;,
 &#39;250최고가일&#39;: &#39;20210111&#39;,
 &#39;250최고가대비율&#39;: &#39;-24.90&#39;,
 &#39;250최저가일&#39;: &#39;20200831&#39;,
 &#39;250최저가대비율&#39;: &#39;+34.63&#39;,
 &#39;현재가&#39;: &#39;-72700&#39;,
 &#39;대비기호&#39;: &#39;5&#39;,
 &#39;전일대비&#39;: &#39;-400&#39;,
 &#39;등락율&#39;: &#39;-0.55&#39;,
 &#39;거래량&#39;: &#39;19733088&#39;,
 &#39;거래대비&#39;: &#39;-89.02&#39;,
 &#39;액면가단위&#39;: &#39;원&#39;,
 &#39;유통주식&#39;: &#39;4452954&#39;,
 &#39;유통비율&#39;: &#39;74.6&#39;}
</pre></div></div>
</div>
<p>위의 코드에서 <code class="docutils literal notranslate"><span class="pre">TransactionCall()</span></code> 함수의 경우 반환되는 스트림의 <code class="docutils literal notranslate"><span class="pre">event</span></code> 객체는 <code class="docutils literal notranslate"><span class="pre">ListenResponse</span></code> 타입의 gRPC 메시지 형태로 반환된다.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">PrettyPrinter</span>
<span class="kn">from</span> <span class="nn">google.protobuf.json_format</span> <span class="kn">import</span> <span class="n">MessageToDict</span>

<span class="n">pp</span> <span class="o">=</span> <span class="n">PrettyPrinter</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">pprint_event</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">MessageToDict</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">preserving_proto_field_name</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pprint_event</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;arguments&#39;: [{&#39;string_value&#39;: &#39;0001&#39;},
               {&#39;string_value&#39;: &#39;주식기본정보요청&#39;},
               {&#39;string_value&#39;: &#39;opt10001&#39;},
               {&#39;string_value&#39;: &#39;&#39;},
               {&#39;string_value&#39;: &#39;0&#39;}],
 &#39;name&#39;: &#39;OnReceiveTrData&#39;,
 &#39;single_data&#39;: {&#39;names&#39;: [&#39;종목코드&#39;,
                           &#39;종목명&#39;,
                           &#39;결산월&#39;,
                           &#39;액면가&#39;,
                           &#39;자본금&#39;,
                           &#39;상장주식&#39;,
                           &#39;신용비율&#39;,
                           &#39;연중최고&#39;,
                           &#39;연중최저&#39;,
                           &#39;시가총액&#39;,
                           &#39;시가총액비중&#39;,
                           &#39;외인소진률&#39;,
                           &#39;대용가&#39;,
                           &#39;PER&#39;,
                           &#39;EPS&#39;,
                           &#39;ROE&#39;,
                           &#39;PBR&#39;,
                           &#39;EV&#39;,
                           &#39;BPS&#39;,
                           &#39;매출액&#39;,
                           &#39;영업이익&#39;,
                           &#39;당기순이익&#39;,
                           &#39;250최고&#39;,
                           &#39;250최저&#39;,
                           &#39;시가&#39;,
                           &#39;고가&#39;,
                           &#39;저가&#39;,
                           &#39;상한가&#39;,
                           &#39;하한가&#39;,
                           &#39;기준가&#39;,
                           &#39;예상체결가&#39;,
                           &#39;예상체결수량&#39;,
                           &#39;250최고가일&#39;,
                           &#39;250최고가대비율&#39;,
                           &#39;250최저가일&#39;,
                           &#39;250최저가대비율&#39;,
                           &#39;현재가&#39;,
                           &#39;대비기호&#39;,
                           &#39;전일대비&#39;,
                           &#39;등락율&#39;,
                           &#39;거래량&#39;,
                           &#39;거래대비&#39;,
                           &#39;액면가단위&#39;,
                           &#39;유통주식&#39;,
                           &#39;유통비율&#39;],
                 &#39;values&#39;: [&#39;005930&#39;,
                            &#39;삼성전자&#39;,
                            &#39;12&#39;,
                            &#39;100&#39;,
                            &#39;7780&#39;,
                            &#39;5969783&#39;,
                            &#39;+0.21&#39;,
                            &#39;+96800&#39;,
                            &#39;-72500&#39;,
                            &#39;4340032&#39;,
                            &#39;&#39;,
                            &#39;+51.82&#39;,
                            &#39;58480&#39;,
                            &#39;18.93&#39;,
                            &#39;3841&#39;,
                            &#39;10.0&#39;,
                            &#39;1.84&#39;,
                            &#39;4.97&#39;,
                            &#39;39406&#39;,
                            &#39;2368070&#39;,
                            &#39;359939&#39;,
                            &#39;264078&#39;,
                            &#39;+96800&#39;,
                            &#39;-54000&#39;,
                            &#39;+73500&#39;,
                            &#39;+73900&#39;,
                            &#39;-72500&#39;,
                            &#39;+95000&#39;,
                            &#39;-51200&#39;,
                            &#39;73100&#39;,
                            &#39;-0&#39;,
                            &#39;0&#39;,
                            &#39;20210111&#39;,
                            &#39;-24.90&#39;,
                            &#39;20200831&#39;,
                            &#39;+34.63&#39;,
                            &#39;-72700&#39;,
                            &#39;5&#39;,
                            &#39;-400&#39;,
                            &#39;-0.55&#39;,
                            &#39;19733088&#39;,
                            &#39;-89.02&#39;,
                            &#39;원&#39;,
                            &#39;4452954&#39;,
                            &#39;74.6&#39;]}}
</pre></div></div>
</div>
<p>해당 메시지의 형태는 <code class="docutils literal notranslate"><span class="pre">`koapy/backend/kiwoom_open_api_plus/grpc/KiwoomOpenApiPlusService.proto</span></code> &lt;<a class="reference external" href="https://github.com/elbakramer/koapy/blob/master/koapy/backend/kiwoom_open_api_plus/grpc/KiwoomOpenApiPlusService.proto">https://github.com/elbakramer/koapy/blob/master/koapy/backend/kiwoom_open_api_plus/grpc/KiwoomOpenApiPlusService.proto</a>&gt;`__ 파일의 내용, 구체적으로 아래와 같은 메시지의 정의 부분을 참고하기 바란다.</p>
<div class="highlight-proto notranslate"><div class="highlight"><pre><span></span><span class="kd">message</span> <span class="nc">ListenResponse</span> <span class="p">{</span>
  <span class="kt">string</span> <span class="na">name</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">repeated</span> <span class="n">Argument</span> <span class="na">arguments</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
  <span class="n">SingleData</span> <span class="na">single_data</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
  <span class="n">MultiData</span> <span class="na">multi_data</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>각 TR 에 따라 싱글데이터/멀티데이터가 선택적으로 설정되어 반환되는데, 그러한 입력/출력과 관련된 정보들은 <a class="reference external" href="https://download.kiwoom.com/web/openapi/kiwoom_openapi_plus_devguide_ver_1.5.pdf#page=7">KOAStudio</a> 프로그램을 활용하거나 아니면 아래처럼 <code class="docutils literal notranslate"><span class="pre">KiwoomOpenApiPlusTrInfo</span></code> 를 통해 프로그램 내에서 확인할 수 있다.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">koapy</span> <span class="kn">import</span> <span class="n">KiwoomOpenApiPlusTrInfo</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">tr_info</span> <span class="o">=</span> <span class="n">KiwoomOpenApiPlusTrInfo</span><span class="o">.</span><span class="n">get_trinfo_by_code</span><span class="p">(</span><span class="s1">&#39;opt10001&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">tr_info</span><span class="o">.</span><span class="n">inputs</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[KiwoomOpenApiPlusTrInfo.Field(&#39;종목코드&#39;, 0, 6, 9001)]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">tr_info</span><span class="o">.</span><span class="n">single_outputs</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[KiwoomOpenApiPlusTrInfo.Field(&#39;종목코드&#39;, 0, 20, 389),
 KiwoomOpenApiPlusTrInfo.Field(&#39;종목명&#39;, 20, 50, 302),
 KiwoomOpenApiPlusTrInfo.Field(&#39;결산월&#39;, 40, 20, 315),
 KiwoomOpenApiPlusTrInfo.Field(&#39;액면가&#39;, 60, 20, 310),
 KiwoomOpenApiPlusTrInfo.Field(&#39;자본금&#39;, 80, 20, 309),
 KiwoomOpenApiPlusTrInfo.Field(&#39;상장주식&#39;, 100, 20, 312),
 KiwoomOpenApiPlusTrInfo.Field(&#39;신용비율&#39;, 120, 20, 329),
 KiwoomOpenApiPlusTrInfo.Field(&#39;연중최고&#39;, 140, 20, 1006),
 KiwoomOpenApiPlusTrInfo.Field(&#39;연중최저&#39;, 160, 20, 1009),
 KiwoomOpenApiPlusTrInfo.Field(&#39;시가총액&#39;, 180, 20, 311),
 KiwoomOpenApiPlusTrInfo.Field(&#39;시가총액비중&#39;, 200, 20, 336),
 KiwoomOpenApiPlusTrInfo.Field(&#39;외인소진률&#39;, 220, 20, 314),
 KiwoomOpenApiPlusTrInfo.Field(&#39;대용가&#39;, 240, 20, 308),
 KiwoomOpenApiPlusTrInfo.Field(&#39;PER&#39;, 260, 20, 1600),
 KiwoomOpenApiPlusTrInfo.Field(&#39;EPS&#39;, 280, 20, 1604),
 KiwoomOpenApiPlusTrInfo.Field(&#39;ROE&#39;, 300, 20, 1630),
 KiwoomOpenApiPlusTrInfo.Field(&#39;PBR&#39;, 320, 20, 1601),
 KiwoomOpenApiPlusTrInfo.Field(&#39;EV&#39;, 340, 20, 1608),
 KiwoomOpenApiPlusTrInfo.Field(&#39;BPS&#39;, 360, 20, 1605),
 KiwoomOpenApiPlusTrInfo.Field(&#39;매출액&#39;, 380, 20, 1610),
 KiwoomOpenApiPlusTrInfo.Field(&#39;영업이익&#39;, 400, 20, 1611),
 KiwoomOpenApiPlusTrInfo.Field(&#39;당기순이익&#39;, 420, 20, 1614),
 KiwoomOpenApiPlusTrInfo.Field(&#39;250최고&#39;, 440, 20, 1000),
 KiwoomOpenApiPlusTrInfo.Field(&#39;250최저&#39;, 460, 20, 1003),
 KiwoomOpenApiPlusTrInfo.Field(&#39;시가&#39;, 480, 20, 16),
 KiwoomOpenApiPlusTrInfo.Field(&#39;고가&#39;, 500, 20, 17),
 KiwoomOpenApiPlusTrInfo.Field(&#39;저가&#39;, 520, 20, 18),
 KiwoomOpenApiPlusTrInfo.Field(&#39;상한가&#39;, 540, 20, 305),
 KiwoomOpenApiPlusTrInfo.Field(&#39;하한가&#39;, 560, 20, 306),
 KiwoomOpenApiPlusTrInfo.Field(&#39;기준가&#39;, 580, 20, 307),
 KiwoomOpenApiPlusTrInfo.Field(&#39;예상체결가&#39;, 600, 20, 10023),
 KiwoomOpenApiPlusTrInfo.Field(&#39;예상체결수량&#39;, 620, 20, 10024),
 KiwoomOpenApiPlusTrInfo.Field(&#39;250최고가일&#39;, 640, 20, 1001),
 KiwoomOpenApiPlusTrInfo.Field(&#39;250최고가대비율&#39;, 660, 20, 1002),
 KiwoomOpenApiPlusTrInfo.Field(&#39;250최저가일&#39;, 680, 20, 1004),
 KiwoomOpenApiPlusTrInfo.Field(&#39;250최저가대비율&#39;, 700, 20, 1005),
 KiwoomOpenApiPlusTrInfo.Field(&#39;현재가&#39;, 720, 20, 10),
 KiwoomOpenApiPlusTrInfo.Field(&#39;대비기호&#39;, 740, 20, 25),
 KiwoomOpenApiPlusTrInfo.Field(&#39;전일대비&#39;, 760, 20, 11),
 KiwoomOpenApiPlusTrInfo.Field(&#39;등락율&#39;, 780, 20, 12),
 KiwoomOpenApiPlusTrInfo.Field(&#39;거래량&#39;, 800, 20, 13),
 KiwoomOpenApiPlusTrInfo.Field(&#39;거래대비&#39;, 820, 20, 30),
 KiwoomOpenApiPlusTrInfo.Field(&#39;액면가단위&#39;, 840, 20, 796),
 KiwoomOpenApiPlusTrInfo.Field(&#39;유통주식&#39;, 840, 20, 1683),
 KiwoomOpenApiPlusTrInfo.Field(&#39;유통비율&#39;, 840, 20, 1684)]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">tr_info</span><span class="o">.</span><span class="n">multi_outputs</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[]
</pre></div></div>
</div>
</section>
</section>
<section id="5.-조건검색-예시">
<h2>5. 조건검색 예시<a class="headerlink" href="#5.-조건검색-예시" title="Permalink to this headline">¶</a></h2>
<p>조건검색을 사용하기 위해서는 먼저 서버에 저장된 조건들을 불러와야 한다.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">entrypoint</span><span class="o">.</span><span class="n">EnsureConditionLoaded</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1
</pre></div></div>
</div>
<p>불러온 조건들의 목록은 아래 함수로 확인이 가능하다.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">conditions</span> <span class="o">=</span> <span class="n">entrypoint</span><span class="o">.</span><span class="n">GetConditionNameListAsList</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">conditions</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[(0, &#39;대형 저평가 우량주&#39;), (1, &#39;중소형 저평가주&#39;)]
</pre></div></div>
</div>
<p>이후 예시의 정상동작을 위해서는 아래에서 사용되는 조건들과 같은 이름을 가지는 조건들이 미리 저장되어 있어야 한다.</p>
<ul class="simple">
<li><p>대형 저평가 우량주</p></li>
<li><p>중소형 저평가주</p></li>
</ul>
<p>위의 조건식들은 키움에서 예시로 제공하는 추천식들을 그대로 이름을 똑같이 해서 저장한 것들이다. 참고로 조건들을 편집하고 저장하는건 영웅문 HTS 내부에서만 가능하기 때문에 따로 HTS 를 열어 편집해주어야 한다.</p>
<p>조건식이 편집된 이후에 해당 조건식을 기존에 동작중인 OpenAPI 에도 갱신하고 싶은 경우, 아래 함수를 통해 편집된 조건식을 새로 불러온다.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">entrypoint</span><span class="o">.</span><span class="n">LoadCondition</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1
</pre></div></div>
</div>
<section id="일반-조건검색-예시">
<h3>일반 조건검색 예시<a class="headerlink" href="#일반-조건검색-예시" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">condition_name</span> <span class="o">=</span> <span class="s1">&#39;대형 저평가 우량주&#39;</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">codes</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">entrypoint</span><span class="o">.</span><span class="n">GetCodeListByCondition</span><span class="p">(</span><span class="n">condition_name</span><span class="p">,</span> <span class="n">with_info</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>위의 함수에서 <code class="docutils literal notranslate"><span class="pre">with_info=True</span></code> 로 호출하게 되면 조건을 만족하는 코드 목록 (<code class="docutils literal notranslate"><span class="pre">codes</span></code>) 뿐만 아니라 해당 종목들에 대한 기본정보들도 (<code class="docutils literal notranslate"><span class="pre">info</span></code>) 같이 가져와 DataFrame 형태로 제공한다.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">info</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>종목코드</th>
      <th>종목명</th>
      <th>현재가</th>
      <th>기준가</th>
      <th>전일대비</th>
      <th>전일대비기호</th>
      <th>등락율</th>
      <th>거래량</th>
      <th>거래대금</th>
      <th>체결량</th>
      <th>...</th>
      <th>ELW만기일</th>
      <th>미결제약정</th>
      <th>미결제전일대비</th>
      <th>이론가</th>
      <th>내재변동성</th>
      <th>델타</th>
      <th>감마</th>
      <th>쎄타</th>
      <th>베가</th>
      <th>로</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>000240</td>
      <td>한국앤컴퍼니</td>
      <td>-16850</td>
      <td>17350</td>
      <td>-500</td>
      <td>5</td>
      <td>-2.88</td>
      <td>274974</td>
      <td>4692</td>
      <td>+1</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>1</th>
      <td>001800</td>
      <td>오리온홀딩스</td>
      <td>15350</td>
      <td>15350</td>
      <td>0</td>
      <td>3</td>
      <td>0.00</td>
      <td>165292</td>
      <td>2555</td>
      <td>-50</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>2</th>
      <td>001880</td>
      <td>DL건설</td>
      <td>-29100</td>
      <td>30200</td>
      <td>-1100</td>
      <td>5</td>
      <td>-3.64</td>
      <td>94132</td>
      <td>2771</td>
      <td>-37</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>3</th>
      <td>003230</td>
      <td>삼양식품</td>
      <td>-80300</td>
      <td>81700</td>
      <td>-1400</td>
      <td>5</td>
      <td>-1.71</td>
      <td>38930</td>
      <td>3158</td>
      <td>+10</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>4</th>
      <td>003550</td>
      <td>LG</td>
      <td>-94300</td>
      <td>95100</td>
      <td>-800</td>
      <td>5</td>
      <td>-0.84</td>
      <td>303794</td>
      <td>29041</td>
      <td>+1</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>5</th>
      <td>003800</td>
      <td>에이스침대</td>
      <td>-47250</td>
      <td>50400</td>
      <td>-3150</td>
      <td>5</td>
      <td>-6.25</td>
      <td>34286</td>
      <td>1686</td>
      <td>+4</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>6</th>
      <td>004000</td>
      <td>롯데정밀화학</td>
      <td>-64200</td>
      <td>64600</td>
      <td>-400</td>
      <td>5</td>
      <td>-0.62</td>
      <td>139120</td>
      <td>9003</td>
      <td>+3</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>7</th>
      <td>006040</td>
      <td>동원산업</td>
      <td>-227500</td>
      <td>229500</td>
      <td>-2000</td>
      <td>5</td>
      <td>-0.87</td>
      <td>3667</td>
      <td>836</td>
      <td>+4</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>8</th>
      <td>006390</td>
      <td>한일현대시멘트</td>
      <td>-31900</td>
      <td>32250</td>
      <td>-350</td>
      <td>5</td>
      <td>-1.09</td>
      <td>26061</td>
      <td>840</td>
      <td>+32</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>9</th>
      <td>006650</td>
      <td>대한유화</td>
      <td>-209500</td>
      <td>218000</td>
      <td>-8500</td>
      <td>5</td>
      <td>-3.90</td>
      <td>91301</td>
      <td>19449</td>
      <td>-3</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>10</th>
      <td>008490</td>
      <td>서흥</td>
      <td>-51600</td>
      <td>52600</td>
      <td>-1000</td>
      <td>5</td>
      <td>-1.90</td>
      <td>52807</td>
      <td>2710</td>
      <td>+6</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>11</th>
      <td>009970</td>
      <td>영원무역홀딩스</td>
      <td>-44450</td>
      <td>44800</td>
      <td>-350</td>
      <td>5</td>
      <td>-0.78</td>
      <td>14529</td>
      <td>647</td>
      <td>+1</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>12</th>
      <td>011780</td>
      <td>금호석유</td>
      <td>-181000</td>
      <td>182000</td>
      <td>-1000</td>
      <td>5</td>
      <td>-0.55</td>
      <td>367269</td>
      <td>67533</td>
      <td>-30</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>13</th>
      <td>012630</td>
      <td>HDC</td>
      <td>-10850</td>
      <td>10950</td>
      <td>-100</td>
      <td>5</td>
      <td>-0.91</td>
      <td>416000</td>
      <td>4552</td>
      <td>+1</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>14</th>
      <td>013120</td>
      <td>동원개발</td>
      <td>-5620</td>
      <td>5860</td>
      <td>-240</td>
      <td>5</td>
      <td>-4.10</td>
      <td>329301</td>
      <td>1873</td>
      <td>+150</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>15</th>
      <td>014830</td>
      <td>유니드</td>
      <td>-115000</td>
      <td>122500</td>
      <td>-7500</td>
      <td>5</td>
      <td>-6.12</td>
      <td>356412</td>
      <td>41867</td>
      <td>+19</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>16</th>
      <td>020000</td>
      <td>한섬</td>
      <td>-35200</td>
      <td>36600</td>
      <td>-1400</td>
      <td>5</td>
      <td>-3.83</td>
      <td>109739</td>
      <td>3964</td>
      <td>+2</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>17</th>
      <td>021240</td>
      <td>코웨이</td>
      <td>+73100</td>
      <td>73000</td>
      <td>+100</td>
      <td>2</td>
      <td>+0.14</td>
      <td>132936</td>
      <td>9744</td>
      <td>+1</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>18</th>
      <td>025540</td>
      <td>한국단자</td>
      <td>-76900</td>
      <td>79700</td>
      <td>-2800</td>
      <td>5</td>
      <td>-3.51</td>
      <td>54851</td>
      <td>4271</td>
      <td>+20</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>19</th>
      <td>030520</td>
      <td>한글과컴퓨터</td>
      <td>-21100</td>
      <td>21800</td>
      <td>-700</td>
      <td>5</td>
      <td>-3.21</td>
      <td>430253</td>
      <td>9157</td>
      <td>-390</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>20</th>
      <td>033290</td>
      <td>코웰패션</td>
      <td>-7640</td>
      <td>7930</td>
      <td>-290</td>
      <td>5</td>
      <td>-3.66</td>
      <td>1225353</td>
      <td>9465</td>
      <td>+8</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>21</th>
      <td>033780</td>
      <td>KT&amp;G</td>
      <td>-80300</td>
      <td>81100</td>
      <td>-800</td>
      <td>5</td>
      <td>-0.99</td>
      <td>458313</td>
      <td>36974</td>
      <td>+20</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>22</th>
      <td>036830</td>
      <td>솔브레인홀딩스</td>
      <td>-32250</td>
      <td>33850</td>
      <td>-1600</td>
      <td>5</td>
      <td>-4.73</td>
      <td>79397</td>
      <td>2602</td>
      <td>-300</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>23</th>
      <td>056190</td>
      <td>에스에프에이</td>
      <td>+36900</td>
      <td>36800</td>
      <td>+100</td>
      <td>2</td>
      <td>+0.27</td>
      <td>178308</td>
      <td>6644</td>
      <td>+6</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>24</th>
      <td>060150</td>
      <td>인선이엔티</td>
      <td>-11100</td>
      <td>11400</td>
      <td>-300</td>
      <td>5</td>
      <td>-2.63</td>
      <td>339326</td>
      <td>3833</td>
      <td>-550</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>25</th>
      <td>064960</td>
      <td>SNT모티브</td>
      <td>-52700</td>
      <td>54000</td>
      <td>-1300</td>
      <td>5</td>
      <td>-2.41</td>
      <td>52389</td>
      <td>2792</td>
      <td>+29</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>26</th>
      <td>069080</td>
      <td>웹젠</td>
      <td>-25450</td>
      <td>26350</td>
      <td>-900</td>
      <td>5</td>
      <td>-3.42</td>
      <td>184740</td>
      <td>4772</td>
      <td>-50</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>27</th>
      <td>095660</td>
      <td>네오위즈</td>
      <td>-36300</td>
      <td>37500</td>
      <td>-1200</td>
      <td>5</td>
      <td>-3.20</td>
      <td>859677</td>
      <td>31724</td>
      <td>-8</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>28</th>
      <td>096530</td>
      <td>씨젠</td>
      <td>-61700</td>
      <td>65500</td>
      <td>-3800</td>
      <td>5</td>
      <td>-5.80</td>
      <td>1203369</td>
      <td>75917</td>
      <td>-1</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>29</th>
      <td>111770</td>
      <td>영원무역</td>
      <td>-38700</td>
      <td>40450</td>
      <td>-1750</td>
      <td>5</td>
      <td>-4.33</td>
      <td>198315</td>
      <td>7891</td>
      <td>-8</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>30</th>
      <td>137310</td>
      <td>에스디바이오센서</td>
      <td>-52300</td>
      <td>55500</td>
      <td>-3200</td>
      <td>5</td>
      <td>-5.77</td>
      <td>1661122</td>
      <td>89400</td>
      <td>+500</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>31</th>
      <td>161390</td>
      <td>한국타이어앤테크놀로지</td>
      <td>-45050</td>
      <td>45300</td>
      <td>-250</td>
      <td>5</td>
      <td>-0.55</td>
      <td>201946</td>
      <td>9165</td>
      <td>-1</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>32</th>
      <td>161890</td>
      <td>한국콜마</td>
      <td>-45650</td>
      <td>46450</td>
      <td>-800</td>
      <td>5</td>
      <td>-1.72</td>
      <td>159960</td>
      <td>7390</td>
      <td>+1</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>33</th>
      <td>185750</td>
      <td>종근당</td>
      <td>-118500</td>
      <td>122000</td>
      <td>-3500</td>
      <td>5</td>
      <td>-2.87</td>
      <td>68427</td>
      <td>8204</td>
      <td>+2</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>34</th>
      <td>192080</td>
      <td>더블유게임즈</td>
      <td>-55800</td>
      <td>56500</td>
      <td>-700</td>
      <td>5</td>
      <td>-1.24</td>
      <td>98927</td>
      <td>5600</td>
      <td>-206</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>35</th>
      <td>192400</td>
      <td>쿠쿠홀딩스</td>
      <td>+128000</td>
      <td>127500</td>
      <td>+500</td>
      <td>2</td>
      <td>+0.39</td>
      <td>5554</td>
      <td>713</td>
      <td>+1</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>36</th>
      <td>200130</td>
      <td>콜마비앤에이치</td>
      <td>-38200</td>
      <td>40400</td>
      <td>-2200</td>
      <td>5</td>
      <td>-5.45</td>
      <td>370681</td>
      <td>14424</td>
      <td>+2</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>37</th>
      <td>230360</td>
      <td>에코마케팅</td>
      <td>-21500</td>
      <td>22200</td>
      <td>-700</td>
      <td>5</td>
      <td>-3.15</td>
      <td>283025</td>
      <td>6084</td>
      <td>+25</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>38</th>
      <td>243070</td>
      <td>휴온스</td>
      <td>-54500</td>
      <td>56600</td>
      <td>-2100</td>
      <td>5</td>
      <td>-3.71</td>
      <td>79789</td>
      <td>4417</td>
      <td>+1</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>39</th>
      <td>281820</td>
      <td>케이씨텍</td>
      <td>-24200</td>
      <td>24800</td>
      <td>-600</td>
      <td>5</td>
      <td>-2.42</td>
      <td>128050</td>
      <td>3125</td>
      <td>+48</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>40</th>
      <td>284740</td>
      <td>쿠쿠홈시스</td>
      <td>-40350</td>
      <td>41000</td>
      <td>-650</td>
      <td>5</td>
      <td>-1.59</td>
      <td>36155</td>
      <td>1483</td>
      <td>-1</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>41</th>
      <td>285130</td>
      <td>SK케미칼</td>
      <td>-272500</td>
      <td>286000</td>
      <td>-13500</td>
      <td>5</td>
      <td>-4.72</td>
      <td>277146</td>
      <td>77414</td>
      <td>-8</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>42</th>
      <td>294870</td>
      <td>HDC현대산업개발</td>
      <td>-27300</td>
      <td>28000</td>
      <td>-700</td>
      <td>5</td>
      <td>-2.50</td>
      <td>351794</td>
      <td>9727</td>
      <td>-57</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>43</th>
      <td>300720</td>
      <td>한일시멘트</td>
      <td>-202000</td>
      <td>231000</td>
      <td>-29000</td>
      <td>5</td>
      <td>-12.55</td>
      <td>72853</td>
      <td>15531</td>
      <td>+2</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>44</th>
      <td>950130</td>
      <td>엑세스바이오</td>
      <td>-15750</td>
      <td>17000</td>
      <td>-1250</td>
      <td>5</td>
      <td>-7.35</td>
      <td>2086604</td>
      <td>34240</td>
      <td>+13</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
<p>45 rows × 63 columns</p>
</div></div>
</div>
</section>
<section id="실시간-조건검색-예시">
<h3>실시간 조건검색 예시<a class="headerlink" href="#실시간-조건검색-예시" title="Permalink to this headline">¶</a></h3>
<p>같은 조건식은 1분에 1건 제한이므로 예시 실행시 제한을 회피하기 위해서 새로 설정한다.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[43]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">condition_name</span> <span class="o">=</span> <span class="s1">&#39;중소형 저평가주&#39;</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Start listening realtime condition stream...&#39;</span><span class="p">)</span>
<span class="n">stream</span> <span class="o">=</span> <span class="n">entrypoint</span><span class="o">.</span><span class="n">GetCodeListByConditionAsStream</span><span class="p">(</span><span class="n">condition_name</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2021-08-20 14:59:44,303 [INFO] Start listening realtime condition stream... - &lt;ipython-input-44-65a213a915e6&gt;:1
</pre></div></div>
</div>
<p>실시간 조건검색의 경우 조건에 만족/불만족하는 종목이 편입/이탈할때마다 계속해서 이벤트를 반환한다. 예시에서는 10초 동안만 이벤트를 확인해본다.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">threading</span>

<span class="k">def</span> <span class="nf">stop_listening</span><span class="p">():</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Stop listening realtime condition events...&#39;</span><span class="p">)</span>
    <span class="n">stream</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>

<span class="n">threading</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="mf">65.0</span><span class="p">,</span> <span class="n">stop_listening</span><span class="p">)</span><span class="o">.</span><span class="n">start</span><span class="p">()</span> <span class="c1"># 65초 이후에 gRPC 커넥션 종료하도록 설정</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">grpc</span>

<span class="n">events</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">try</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">stream</span><span class="p">:</span>
        <span class="n">events</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
        <span class="n">pprint_event</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
<span class="k">except</span> <span class="n">grpc</span><span class="o">.</span><span class="n">RpcError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;arguments&#39;: [{&#39;string_value&#39;: &#39;0540&#39;},
               {&#39;string_value&#39;: &#39;900290;900310;900340;002170;007540;017890;023600;042420;073560;131030;187870;192440;210540;225220;248170;352700;950190;900280;900250;&#39;},
               {&#39;string_value&#39;: &#39;중소형 저평가주&#39;},
               {&#39;long_value&#39;: &#39;1&#39;},
               {&#39;long_value&#39;: &#39;0&#39;}],
 &#39;name&#39;: &#39;OnReceiveTrCondition&#39;}
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2021-08-20 15:00:49,325 [INFO] Stop listening realtime condition events... - &lt;ipython-input-45-4efffd042cb5&gt;:4
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;_MultiThreadedRendezvous of RPC that terminated with:
        status = StatusCode.CANCELLED
        details = &#34;Locally cancelled by application!&#34;
        debug_error_string = &#34;None&#34;
&gt;
</pre></div></div>
</div>
<p>위에서 <code class="docutils literal notranslate"><span class="pre">stream</span></code> 결과는 <code class="docutils literal notranslate"><span class="pre">`grpc</span></code> &lt;<a class="reference external" href="https://grpc.github.io/grpc/python/">https://grpc.github.io/grpc/python/</a>&gt;`__ 의 <code class="docutils literal notranslate"><span class="pre">`_MultiThreadedRendezvous</span></code> &lt;<a class="reference external" href="https://github.com/grpc/grpc/blob/53ba4a101e80e1a67d4ec741b7e1aad6ea8d790f/src/python/grpcio/grpc/_channel.py#L652">https://github.com/grpc/grpc/blob/53ba4a101e80e1a67d4ec741b7e1aad6ea8d790f/src/python/grpcio/grpc/_channel.py#L652</a>&gt;`__ 객체인데 사실 해당 타입은 직접적으로 외부에 노출되는 타입은 아니다. 대신에 해당 타입은 내부적으로 <code class="docutils literal notranslate"><span class="pre">`grpc.RpcError</span></code> &lt;<a class="reference external" href="https://grpc.github.io/grpc/python/grpc.html?highlight=rpcerror#grpc.RpcError">https://grpc.github.io/grpc/python/grpc.html?highlight=rpcerror#grpc.RpcError</a>&gt;`__,
<code class="docutils literal notranslate"><span class="pre">`grpc.RpcContext</span></code> &lt;<a class="reference external" href="https://grpc.github.io/grpc/python/grpc.html?highlight=rpccontext#grpc.RpcContext">https://grpc.github.io/grpc/python/grpc.html?highlight=rpccontext#grpc.RpcContext</a>&gt;`__, <code class="docutils literal notranslate"><span class="pre">`grpc.Call</span></code> &lt;<a class="reference external" href="https://grpc.github.io/grpc/python/grpc.html?highlight=call#grpc.Call">https://grpc.github.io/grpc/python/grpc.html?highlight=call#grpc.Call</a>&gt;`__, <code class="docutils literal notranslate"><span class="pre">`grpc.Future</span></code> &lt;<a class="reference external" href="https://grpc.github.io/grpc/python/grpc.html?highlight=future#grpc.Future">https://grpc.github.io/grpc/python/grpc.html?highlight=future#grpc.Future</a>&gt;`__ 인터페이스를 구현하고 있으므로 해당 객체의 사용법과 관련해서는 각각의 인터페이스를 참고하자.</p>
<p>최초 이벤트로 반환되는 코드 목록들에 대해서 앞선 일반조건 검색 예시에서와 같이 종목들의 기본정보들을 별도로 가져오고 싶다면 대략 아래처럼 해볼 수 있다.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">events</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">codes</span> <span class="o">=</span> <span class="n">events</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">string_value</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">codes</span> <span class="o">=</span> <span class="p">[</span><span class="n">samsung_code</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">codes</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;900290&#39;,
 &#39;900310&#39;,
 &#39;900340&#39;,
 &#39;002170&#39;,
 &#39;007540&#39;,
 &#39;017890&#39;,
 &#39;023600&#39;,
 &#39;042420&#39;,
 &#39;073560&#39;,
 &#39;131030&#39;,
 &#39;187870&#39;,
 &#39;192440&#39;,
 &#39;210540&#39;,
 &#39;225220&#39;,
 &#39;248170&#39;,
 &#39;352700&#39;,
 &#39;950190&#39;,
 &#39;900280&#39;,
 &#39;900250&#39;]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[49]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">info</span> <span class="o">=</span> <span class="n">entrypoint</span><span class="o">.</span><span class="n">GetStockQuoteInfoAsDataFrame</span><span class="p">(</span><span class="n">codes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[50]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">info</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[50]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>종목코드</th>
      <th>종목명</th>
      <th>현재가</th>
      <th>기준가</th>
      <th>전일대비</th>
      <th>전일대비기호</th>
      <th>등락율</th>
      <th>거래량</th>
      <th>거래대금</th>
      <th>체결량</th>
      <th>...</th>
      <th>ELW만기일</th>
      <th>미결제약정</th>
      <th>미결제전일대비</th>
      <th>이론가</th>
      <th>내재변동성</th>
      <th>델타</th>
      <th>감마</th>
      <th>쎄타</th>
      <th>베가</th>
      <th>로</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>900290</td>
      <td>GRT</td>
      <td>951</td>
      <td>951</td>
      <td>0</td>
      <td>3</td>
      <td>0.00</td>
      <td>0</td>
      <td>0</td>
      <td></td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>1</th>
      <td>900310</td>
      <td>컬러레이</td>
      <td>-1690</td>
      <td>1735</td>
      <td>-45</td>
      <td>5</td>
      <td>-2.59</td>
      <td>171543</td>
      <td>292</td>
      <td>+2</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>2</th>
      <td>900340</td>
      <td>윙입푸드</td>
      <td>-1315</td>
      <td>1325</td>
      <td>-10</td>
      <td>5</td>
      <td>-0.75</td>
      <td>232272</td>
      <td>307</td>
      <td>+1</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>3</th>
      <td>002170</td>
      <td>삼양통상</td>
      <td>-65800</td>
      <td>69000</td>
      <td>-3200</td>
      <td>5</td>
      <td>-4.64</td>
      <td>17917</td>
      <td>1196</td>
      <td>+14</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>4</th>
      <td>007540</td>
      <td>샘표</td>
      <td>-44200</td>
      <td>45850</td>
      <td>-1650</td>
      <td>5</td>
      <td>-3.60</td>
      <td>8706</td>
      <td>393</td>
      <td>-20</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>5</th>
      <td>017890</td>
      <td>한국알콜</td>
      <td>-12800</td>
      <td>13100</td>
      <td>-300</td>
      <td>5</td>
      <td>-2.29</td>
      <td>225361</td>
      <td>2890</td>
      <td>+79</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>6</th>
      <td>023600</td>
      <td>삼보판지</td>
      <td>-14000</td>
      <td>14450</td>
      <td>-450</td>
      <td>5</td>
      <td>-3.11</td>
      <td>82798</td>
      <td>1169</td>
      <td>+3</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>7</th>
      <td>042420</td>
      <td>네오위즈홀딩스</td>
      <td>-29200</td>
      <td>30300</td>
      <td>-1100</td>
      <td>5</td>
      <td>-3.63</td>
      <td>88947</td>
      <td>2619</td>
      <td>+1</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>8</th>
      <td>073560</td>
      <td>우리손에프앤지</td>
      <td>-2255</td>
      <td>2355</td>
      <td>-100</td>
      <td>5</td>
      <td>-4.25</td>
      <td>973752</td>
      <td>2247</td>
      <td>-2000</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>9</th>
      <td>131030</td>
      <td>디에이치피코리아</td>
      <td>-6940</td>
      <td>7100</td>
      <td>-160</td>
      <td>5</td>
      <td>-2.25</td>
      <td>123523</td>
      <td>869</td>
      <td>-10</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>10</th>
      <td>187870</td>
      <td>디바이스이엔지</td>
      <td>-33500</td>
      <td>34650</td>
      <td>-1150</td>
      <td>5</td>
      <td>-3.32</td>
      <td>62770</td>
      <td>2147</td>
      <td>-10</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>11</th>
      <td>192440</td>
      <td>슈피겐코리아</td>
      <td>-48250</td>
      <td>49550</td>
      <td>-1300</td>
      <td>5</td>
      <td>-2.62</td>
      <td>37417</td>
      <td>1823</td>
      <td>+10</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>12</th>
      <td>210540</td>
      <td>디와이파워</td>
      <td>-14500</td>
      <td>14950</td>
      <td>-450</td>
      <td>5</td>
      <td>-3.01</td>
      <td>89023</td>
      <td>1302</td>
      <td>+57</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>13</th>
      <td>225220</td>
      <td>제놀루션</td>
      <td>-15300</td>
      <td>16150</td>
      <td>-850</td>
      <td>5</td>
      <td>-5.26</td>
      <td>228661</td>
      <td>3588</td>
      <td>+105</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>14</th>
      <td>248170</td>
      <td>샘표식품</td>
      <td>-46250</td>
      <td>47250</td>
      <td>-1000</td>
      <td>5</td>
      <td>-2.12</td>
      <td>24460</td>
      <td>1154</td>
      <td>-43</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>15</th>
      <td>352700</td>
      <td>씨앤투스성진</td>
      <td>-20800</td>
      <td>21150</td>
      <td>-350</td>
      <td>5</td>
      <td>-1.65</td>
      <td>103728</td>
      <td>2177</td>
      <td>+1</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>16</th>
      <td>950190</td>
      <td>미투젠</td>
      <td>19850</td>
      <td>19850</td>
      <td>0</td>
      <td>3</td>
      <td>0.00</td>
      <td>42255</td>
      <td>839</td>
      <td>+1</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>17</th>
      <td>900280</td>
      <td>골든센츄리</td>
      <td>-385</td>
      <td>400</td>
      <td>-15</td>
      <td>5</td>
      <td>-3.75</td>
      <td>1669158</td>
      <td>651</td>
      <td>+10</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>18</th>
      <td>900250</td>
      <td>크리스탈신소재</td>
      <td>-1215</td>
      <td>1300</td>
      <td>-85</td>
      <td>5</td>
      <td>-6.54</td>
      <td>796576</td>
      <td>987</td>
      <td>+745</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
<p>19 rows × 63 columns</p>
</div></div>
</div>
<p>아니면 <code class="docutils literal notranslate"><span class="pre">stream</span></code> 생성시에 <code class="docutils literal notranslate"><span class="pre">with_info=True</span></code> 를 주는 경우 매 조건 이벤트마다 바로 뒤에 관심종목정보요청 이벤트를 이어서 반환하는데, 결국은 약간의 별도 데이터 처리가 필요하다.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[51]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">condition_name</span> <span class="o">=</span> <span class="s1">&#39;중소형 저평가주&#39;</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[52]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Start listening realtime condition stream...&#39;</span><span class="p">)</span>
<span class="n">stream</span> <span class="o">=</span> <span class="n">entrypoint</span><span class="o">.</span><span class="n">GetCodeListByConditionAsStream</span><span class="p">(</span><span class="n">condition_name</span><span class="p">,</span> <span class="n">with_info</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2021-08-20 15:00:49,534 [INFO] Start listening realtime condition stream... - &lt;ipython-input-52-45cfe3cc03d5&gt;:1
</pre></div></div>
</div>
<p>실시간 조건검색의 경우 조건에 만족/불만족하는 종목이 편입/이탈할때마다 계속해서 이벤트를 반환한다. 예시에서는 10초 동안만 이벤트를 확인해본다.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[53]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">threading</span>

<span class="k">def</span> <span class="nf">stop_listening</span><span class="p">():</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Stop listening realtime condition events...&#39;</span><span class="p">)</span>
    <span class="n">stream</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>

<span class="n">threading</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">stop_listening</span><span class="p">)</span><span class="o">.</span><span class="n">start</span><span class="p">()</span> <span class="c1"># 10초 이후에 gRPC 커넥션 종료하도록 설정</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[54]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">grpc</span>

<span class="n">events</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">try</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">stream</span><span class="p">:</span>
        <span class="n">events</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
        <span class="n">pprint_event</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
<span class="k">except</span> <span class="n">grpc</span><span class="o">.</span><span class="n">RpcError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;arguments&#39;: [{&#39;string_value&#39;: &#39;5259&#39;},
               {&#39;string_value&#39;: &#39;900290;900310;900340;002170;007540;017890;023600;042420;073560;131030;187870;192440;210540;225220;248170;352700;950190;900280;900250;&#39;},
               {&#39;string_value&#39;: &#39;중소형 저평가주&#39;},
               {&#39;long_value&#39;: &#39;1&#39;},
               {&#39;long_value&#39;: &#39;0&#39;}],
 &#39;name&#39;: &#39;OnReceiveTrCondition&#39;}
{&#39;arguments&#39;: [{&#39;string_value&#39;: &#39;5259&#39;},
               {&#39;string_value&#39;: &#39;관심종목정보요청&#39;},
               {&#39;string_value&#39;: &#39;OPTKWFID&#39;},
               {&#39;string_value&#39;: &#39;&#39;},
               {&#39;string_value&#39;: &#39;0&#39;}],
 &#39;multi_data&#39;: {&#39;names&#39;: [&#39;종목코드&#39;,
                          &#39;종목명&#39;,
                          &#39;현재가&#39;,
                          &#39;기준가&#39;,
                          &#39;전일대비&#39;,
                          &#39;전일대비기호&#39;,
                          &#39;등락율&#39;,
                          &#39;거래량&#39;,
                          &#39;거래대금&#39;,
                          &#39;체결량&#39;,
                          &#39;체결강도&#39;,
                          &#39;전일거래량대비&#39;,
                          &#39;매도호가&#39;,
                          &#39;매수호가&#39;,
                          &#39;매도1차호가&#39;,
                          &#39;매도2차호가&#39;,
                          &#39;매도3차호가&#39;,
                          &#39;매도4차호가&#39;,
                          &#39;매도5차호가&#39;,
                          &#39;매수1차호가&#39;,
                          &#39;매수2차호가&#39;,
                          &#39;매수3차호가&#39;,
                          &#39;매수4차호가&#39;,
                          &#39;매수5차호가&#39;,
                          &#39;상한가&#39;,
                          &#39;하한가&#39;,
                          &#39;시가&#39;,
                          &#39;고가&#39;,
                          &#39;저가&#39;,
                          &#39;종가&#39;,
                          &#39;체결시간&#39;,
                          &#39;예상체결가&#39;,
                          &#39;예상체결량&#39;,
                          &#39;자본금&#39;,
                          &#39;액면가&#39;,
                          &#39;시가총액&#39;,
                          &#39;주식수&#39;,
                          &#39;호가시간&#39;,
                          &#39;일자&#39;,
                          &#39;우선매도잔량&#39;,
                          &#39;우선매수잔량&#39;,
                          &#39;우선매도건수&#39;,
                          &#39;우선매수건수&#39;,
                          &#39;총매도잔량&#39;,
                          &#39;총매수잔량&#39;,
                          &#39;총매도건수&#39;,
                          &#39;총매수건수&#39;,
                          &#39;패리티&#39;,
                          &#39;기어링&#39;,
                          &#39;손익분기&#39;,
                          &#39;자본지지&#39;,
                          &#39;ELW행사가&#39;,
                          &#39;전환비율&#39;,
                          &#39;ELW만기일&#39;,
                          &#39;미결제약정&#39;,
                          &#39;미결제전일대비&#39;,
                          &#39;이론가&#39;,
                          &#39;내재변동성&#39;,
                          &#39;델타&#39;,
                          &#39;감마&#39;,
                          &#39;쎄타&#39;,
                          &#39;베가&#39;,
                          &#39;로&#39;],
                &#39;values&#39;: [{&#39;values&#39;: [&#39;900290&#39;,
                                       &#39;GRT&#39;,
                                       &#39;951&#39;,
                                       &#39;951&#39;,
                                       &#39;0&#39;,
                                       &#39;3&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0&#39;,
                                       &#39;0&#39;,
                                       &#39;0&#39;,
                                       &#39;0&#39;,
                                       &#39;0&#39;,
                                       &#39;0&#39;,
                                       &#39;0&#39;,
                                       &#39;0&#39;,
                                       &#39;0&#39;,
                                       &#39;0&#39;,
                                       &#39;0&#39;,
                                       &#39;+1235&#39;,
                                       &#39;-666&#39;,
                                       &#39;0&#39;,
                                       &#39;0&#39;,
                                       &#39;0&#39;,
                                       &#39;951&#39;,
                                       &#39;000000&#39;,
                                       &#39;-0&#39;,
                                       &#39;0&#39;,
                                       &#39;770&#39;,
                                       &#39;0.00&#39;,
                                       &#39;641&#39;,
                                       &#39;67375&#39;,
                                       &#39;000000&#39;,
                                       &#39;20210820&#39;,
                                       &#39;0&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;0&#39;,
                                       &#39;0&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0.0000&#39;,
                                       &#39;00000000&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;]},
                           {&#39;values&#39;: [&#39;900310&#39;,
                                       &#39;컬러레이&#39;,
                                       &#39;-1690&#39;,
                                       &#39;1735&#39;,
                                       &#39;-45&#39;,
                                       &#39;5&#39;,
                                       &#39;-2.59&#39;,
                                       &#39;171543&#39;,
                                       &#39;292&#39;,
                                       &#39;+2&#39;,
                                       &#39;61.64&#39;,
                                       &#39;+136.77&#39;,
                                       &#39;-1690&#39;,
                                       &#39;-1675&#39;,
                                       &#39;-1690&#39;,
                                       &#39;-1695&#39;,
                                       &#39;-1700&#39;,
                                       &#39;-1705&#39;,
                                       &#39;-1710&#39;,
                                       &#39;-1675&#39;,
                                       &#39;-1670&#39;,
                                       &#39;-1665&#39;,
                                       &#39;-1660&#39;,
                                       &#39;-1655&#39;,
                                       &#39;+2255&#39;,
                                       &#39;-1215&#39;,
                                       &#39;-1730&#39;,
                                       &#39;+1770&#39;,
                                       &#39;-1670&#39;,
                                       &#39;-1690&#39;,
                                       &#39;145936&#39;,
                                       &#39;-1730&#39;,
                                       &#39;1776&#39;,
                                       &#39;336&#39;,
                                       &#39;0.00&#39;,
                                       &#39;913&#39;,
                                       &#39;54000&#39;,
                                       &#39;150049&#39;,
                                       &#39;20210820&#39;,
                                       &#39;1963&#39;,
                                       &#39;1001&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;35489&#39;,
                                       &#39;29982&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0.0000&#39;,
                                       &#39;00000000&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;]},
                           {&#39;values&#39;: [&#39;900340&#39;,
                                       &#39;윙입푸드&#39;,
                                       &#39;-1315&#39;,
                                       &#39;1325&#39;,
                                       &#39;-10&#39;,
                                       &#39;5&#39;,
                                       &#39;-0.75&#39;,
                                       &#39;232272&#39;,
                                       &#39;307&#39;,
                                       &#39;+1&#39;,
                                       &#39;40.54&#39;,
                                       &#39;-53.45&#39;,
                                       &#39;-1315&#39;,
                                       &#39;-1310&#39;,
                                       &#39;-1315&#39;,
                                       &#39;-1320&#39;,
                                       &#39;1325&#39;,
                                       &#39;+1330&#39;,
                                       &#39;+1335&#39;,
                                       &#39;-1310&#39;,
                                       &#39;-1305&#39;,
                                       &#39;-1300&#39;,
                                       &#39;-1295&#39;,
                                       &#39;-1290&#39;,
                                       &#39;+1720&#39;,
                                       &#39;-930&#39;,
                                       &#39;1325&#39;,
                                       &#39;+1360&#39;,
                                       &#39;-1305&#39;,
                                       &#39;-1315&#39;,
                                       &#39;150021&#39;,
                                       &#39;1325&#39;,
                                       &#39;5508&#39;,
                                       &#39;294&#39;,
                                       &#39;0.00&#39;,
                                       &#39;631&#39;,
                                       &#39;47973&#39;,
                                       &#39;150048&#39;,
                                       &#39;20210820&#39;,
                                       &#39;1049&#39;,
                                       &#39;780&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;26368&#39;,
                                       &#39;113158&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0.0000&#39;,
                                       &#39;00000000&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;]},
                           {&#39;values&#39;: [&#39;002170&#39;,
                                       &#39;삼양통상&#39;,
                                       &#39;-65800&#39;,
                                       &#39;69000&#39;,
                                       &#39;-3200&#39;,
                                       &#39;5&#39;,
                                       &#39;-4.64&#39;,
                                       &#39;17917&#39;,
                                       &#39;1196&#39;,
                                       &#39;+14&#39;,
                                       &#39;38.98&#39;,
                                       &#39;+134.69&#39;,
                                       &#39;-66000&#39;,
                                       &#39;-65800&#39;,
                                       &#39;-66000&#39;,
                                       &#39;-66100&#39;,
                                       &#39;-66200&#39;,
                                       &#39;-66300&#39;,
                                       &#39;-66400&#39;,
                                       &#39;-65800&#39;,
                                       &#39;-65700&#39;,
                                       &#39;-65600&#39;,
                                       &#39;-65500&#39;,
                                       &#39;-65400&#39;,
                                       &#39;+89700&#39;,
                                       &#39;-48300&#39;,
                                       &#39;-68400&#39;,
                                       &#39;-68700&#39;,
                                       &#39;-65400&#39;,
                                       &#39;-65800&#39;,
                                       &#39;145918&#39;,
                                       &#39;-68400&#39;,
                                       &#39;52&#39;,
                                       &#39;150&#39;,
                                       &#39;5000&#39;,
                                       &#39;1974&#39;,
                                       &#39;3000&#39;,
                                       &#39;150049&#39;,
                                       &#39;20210820&#39;,
                                       &#39;131&#39;,
                                       &#39;10&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;528&#39;,
                                       &#39;931&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0.0000&#39;,
                                       &#39;00000000&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;]},
                           {&#39;values&#39;: [&#39;007540&#39;,
                                       &#39;샘표&#39;,
                                       &#39;-44200&#39;,
                                       &#39;45850&#39;,
                                       &#39;-1650&#39;,
                                       &#39;5&#39;,
                                       &#39;-3.60&#39;,
                                       &#39;8706&#39;,
                                       &#39;393&#39;,
                                       &#39;-20&#39;,
                                       &#39;66.15&#39;,
                                       &#39;-66.54&#39;,
                                       &#39;-44250&#39;,
                                       &#39;-44200&#39;,
                                       &#39;-44250&#39;,
                                       &#39;-44300&#39;,
                                       &#39;-44350&#39;,
                                       &#39;-44400&#39;,
                                       &#39;-44450&#39;,
                                       &#39;-44200&#39;,
                                       &#39;-44150&#39;,
                                       &#39;-44100&#39;,
                                       &#39;-44050&#39;,
                                       &#39;-44000&#39;,
                                       &#39;+59600&#39;,
                                       &#39;-32100&#39;,
                                       &#39;+46300&#39;,
                                       &#39;+46500&#39;,
                                       &#39;-44000&#39;,
                                       &#39;-44200&#39;,
                                       &#39;150012&#39;,
                                       &#39;+46300&#39;,
                                       &#39;28&#39;,
                                       &#39;29&#39;,
                                       &#39;1000&#39;,
                                       &#39;1271&#39;,
                                       &#39;2876&#39;,
                                       &#39;150034&#39;,
                                       &#39;20210820&#39;,
                                       &#39;124&#39;,
                                       &#39;9&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;828&#39;,
                                       &#39;984&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0.0000&#39;,
                                       &#39;00000000&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;]},
                           {&#39;values&#39;: [&#39;017890&#39;,
                                       &#39;한국알콜&#39;,
                                       &#39;-12800&#39;,
                                       &#39;13100&#39;,
                                       &#39;-300&#39;,
                                       &#39;5&#39;,
                                       &#39;-2.29&#39;,
                                       &#39;225361&#39;,
                                       &#39;2890&#39;,
                                       &#39;+79&#39;,
                                       &#39;34.95&#39;,
                                       &#39;-78.71&#39;,
                                       &#39;-12800&#39;,
                                       &#39;-12750&#39;,
                                       &#39;-12800&#39;,
                                       &#39;-12850&#39;,
                                       &#39;-12900&#39;,
                                       &#39;-12950&#39;,
                                       &#39;-13000&#39;,
                                       &#39;-12750&#39;,
                                       &#39;-12700&#39;,
                                       &#39;-12650&#39;,
                                       &#39;-12600&#39;,
                                       &#39;-12550&#39;,
                                       &#39;+17000&#39;,
                                       &#39;-9200&#39;,
                                       &#39;13100&#39;,
                                       &#39;+13250&#39;,
                                       &#39;-12550&#39;,
                                       &#39;-12800&#39;,
                                       &#39;150038&#39;,
                                       &#39;13100&#39;,
                                       &#39;1971&#39;,
                                       &#39;108&#39;,
                                       &#39;500&#39;,
                                       &#39;2766&#39;,
                                       &#39;21606&#39;,
                                       &#39;150044&#39;,
                                       &#39;20210820&#39;,
                                       &#39;271&#39;,
                                       &#39;13&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;32758&#39;,
                                       &#39;18693&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0.0000&#39;,
                                       &#39;00000000&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;]},
                           {&#39;values&#39;: [&#39;023600&#39;,
                                       &#39;삼보판지&#39;,
                                       &#39;-14000&#39;,
                                       &#39;14450&#39;,
                                       &#39;-450&#39;,
                                       &#39;5&#39;,
                                       &#39;-3.11&#39;,
                                       &#39;82798&#39;,
                                       &#39;1169&#39;,
                                       &#39;+3&#39;,
                                       &#39;41.64&#39;,
                                       &#39;-67.81&#39;,
                                       &#39;-14000&#39;,
                                       &#39;-13950&#39;,
                                       &#39;-14000&#39;,
                                       &#39;-14050&#39;,
                                       &#39;-14100&#39;,
                                       &#39;-14150&#39;,
                                       &#39;-14200&#39;,
                                       &#39;-13950&#39;,
                                       &#39;-13900&#39;,
                                       &#39;-13850&#39;,
                                       &#39;-13800&#39;,
                                       &#39;-13750&#39;,
                                       &#39;+18750&#39;,
                                       &#39;-10150&#39;,
                                       &#39;+14500&#39;,
                                       &#39;+14550&#39;,
                                       &#39;-13900&#39;,
                                       &#39;-14000&#39;,
                                       &#39;145828&#39;,
                                       &#39;+14500&#39;,
                                       &#39;159&#39;,
                                       &#39;81&#39;,
                                       &#39;500&#39;,
                                       &#39;2264&#39;,
                                       &#39;16170&#39;,
                                       &#39;150041&#39;,
                                       &#39;20210820&#39;,
                                       &#39;1615&#39;,
                                       &#39;142&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;14875&#39;,
                                       &#39;25942&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0.0000&#39;,
                                       &#39;00000000&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;]},
                           {&#39;values&#39;: [&#39;042420&#39;,
                                       &#39;네오위즈홀딩스&#39;,
                                       &#39;-29200&#39;,
                                       &#39;30300&#39;,
                                       &#39;-1100&#39;,
                                       &#39;5&#39;,
                                       &#39;-3.63&#39;,
                                       &#39;88947&#39;,
                                       &#39;2619&#39;,
                                       &#39;+1&#39;,
                                       &#39;41.12&#39;,
                                       &#39;-64.14&#39;,
                                       &#39;-29200&#39;,
                                       &#39;-29050&#39;,
                                       &#39;-29200&#39;,
                                       &#39;-29250&#39;,
                                       &#39;-29300&#39;,
                                       &#39;-29350&#39;,
                                       &#39;-29400&#39;,
                                       &#39;-29050&#39;,
                                       &#39;-29000&#39;,
                                       &#39;-28950&#39;,
                                       &#39;-28900&#39;,
                                       &#39;-28850&#39;,
                                       &#39;+39350&#39;,
                                       &#39;-21250&#39;,
                                       &#39;30300&#39;,
                                       &#39;+30750&#39;,
                                       &#39;-28800&#39;,
                                       &#39;-29200&#39;,
                                       &#39;150020&#39;,
                                       &#39;30300&#39;,
                                       &#39;1087&#39;,
                                       &#39;47&#39;,
                                       &#39;500&#39;,
                                       &#39;2586&#39;,
                                       &#39;8857&#39;,
                                       &#39;150046&#39;,
                                       &#39;20210820&#39;,
                                       &#39;505&#39;,
                                       &#39;305&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;4001&#39;,
                                       &#39;2885&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0.0000&#39;,
                                       &#39;00000000&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;]},
                           {&#39;values&#39;: [&#39;073560&#39;,
                                       &#39;우리손에프앤지&#39;,
                                       &#39;-2255&#39;,
                                       &#39;2355&#39;,
                                       &#39;-100&#39;,
                                       &#39;5&#39;,
                                       &#39;-4.25&#39;,
                                       &#39;973752&#39;,
                                       &#39;2247&#39;,
                                       &#39;-2000&#39;,
                                       &#39;55.98&#39;,
                                       &#39;-76.03&#39;,
                                       &#39;-2260&#39;,
                                       &#39;-2255&#39;,
                                       &#39;-2260&#39;,
                                       &#39;-2265&#39;,
                                       &#39;-2270&#39;,
                                       &#39;-2275&#39;,
                                       &#39;-2280&#39;,
                                       &#39;-2255&#39;,
                                       &#39;-2250&#39;,
                                       &#39;-2245&#39;,
                                       &#39;-2240&#39;,
                                       &#39;-2235&#39;,
                                       &#39;+3060&#39;,
                                       &#39;-1650&#39;,
                                       &#39;+2365&#39;,
                                       &#39;+2395&#39;,
                                       &#39;-2255&#39;,
                                       &#39;-2255&#39;,
                                       &#39;150032&#39;,
                                       &#39;+2365&#39;,
                                       &#39;10001&#39;,
                                       &#39;346&#39;,
                                       &#39;500&#39;,
                                       &#39;1561&#39;,
                                       &#39;69238&#39;,
                                       &#39;150050&#39;,
                                       &#39;20210820&#39;,
                                       &#39;1711&#39;,
                                       &#39;11874&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;36163&#39;,
                                       &#39;137359&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0.0000&#39;,
                                       &#39;00000000&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;]},
                           {&#39;values&#39;: [&#39;131030&#39;,
                                       &#39;디에이치피코리아&#39;,
                                       &#39;-6940&#39;,
                                       &#39;7100&#39;,
                                       &#39;-160&#39;,
                                       &#39;5&#39;,
                                       &#39;-2.25&#39;,
                                       &#39;123523&#39;,
                                       &#39;869&#39;,
                                       &#39;-10&#39;,
                                       &#39;36.88&#39;,
                                       &#39;-78.96&#39;,
                                       &#39;-6950&#39;,
                                       &#39;-6940&#39;,
                                       &#39;-6950&#39;,
                                       &#39;-6960&#39;,
                                       &#39;-6970&#39;,
                                       &#39;-6980&#39;,
                                       &#39;-6990&#39;,
                                       &#39;-6940&#39;,
                                       &#39;-6930&#39;,
                                       &#39;-6920&#39;,
                                       &#39;-6910&#39;,
                                       &#39;-6900&#39;,
                                       &#39;+9230&#39;,
                                       &#39;-4970&#39;,
                                       &#39;+7120&#39;,
                                       &#39;+7300&#39;,
                                       &#39;-6910&#39;,
                                       &#39;-6940&#39;,
                                       &#39;145904&#39;,
                                       &#39;+7120&#39;,
                                       &#39;1068&#39;,
                                       &#39;83&#39;,
                                       &#39;500&#39;,
                                       &#39;1150&#39;,
                                       &#39;16565&#39;,
                                       &#39;150005&#39;,
                                       &#39;20210820&#39;,
                                       &#39;1405&#39;,
                                       &#39;14&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;15943&#39;,
                                       &#39;10377&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0.0000&#39;,
                                       &#39;00000000&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;]},
                           {&#39;values&#39;: [&#39;187870&#39;,
                                       &#39;디바이스이엔지&#39;,
                                       &#39;-33500&#39;,
                                       &#39;34650&#39;,
                                       &#39;-1150&#39;,
                                       &#39;5&#39;,
                                       &#39;-3.32&#39;,
                                       &#39;62770&#39;,
                                       &#39;2147&#39;,
                                       &#39;-10&#39;,
                                       &#39;38.68&#39;,
                                       &#39;-84.12&#39;,
                                       &#39;-33550&#39;,
                                       &#39;-33500&#39;,
                                       &#39;-33550&#39;,
                                       &#39;-33600&#39;,
                                       &#39;-33750&#39;,
                                       &#39;-33800&#39;,
                                       &#39;-33850&#39;,
                                       &#39;-33500&#39;,
                                       &#39;-33450&#39;,
                                       &#39;-33400&#39;,
                                       &#39;-33350&#39;,
                                       &#39;-33300&#39;,
                                       &#39;+45000&#39;,
                                       &#39;-24300&#39;,
                                       &#39;34650&#39;,
                                       &#39;+35450&#39;,
                                       &#39;-33350&#39;,
                                       &#39;-33500&#39;,
                                       &#39;150046&#39;,
                                       &#39;34650&#39;,
                                       &#39;375&#39;,
                                       &#39;35&#39;,
                                       &#39;500&#39;,
                                       &#39;2357&#39;,
                                       &#39;7037&#39;,
                                       &#39;150046&#39;,
                                       &#39;20210820&#39;,
                                       &#39;286&#39;,
                                       &#39;188&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;1454&#39;,
                                       &#39;3082&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0.0000&#39;,
                                       &#39;00000000&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;]},
                           {&#39;values&#39;: [&#39;192440&#39;,
                                       &#39;슈피겐코리아&#39;,
                                       &#39;-48250&#39;,
                                       &#39;49550&#39;,
                                       &#39;-1300&#39;,
                                       &#39;5&#39;,
                                       &#39;-2.62&#39;,
                                       &#39;37417&#39;,
                                       &#39;1823&#39;,
                                       &#39;+10&#39;,
                                       &#39;57.01&#39;,
                                       &#39;-91.51&#39;,
                                       &#39;-48250&#39;,
                                       &#39;-48200&#39;,
                                       &#39;-48250&#39;,
                                       &#39;-48300&#39;,
                                       &#39;-48350&#39;,
                                       &#39;-48450&#39;,
                                       &#39;-48500&#39;,
                                       &#39;-48200&#39;,
                                       &#39;-48150&#39;,
                                       &#39;-48100&#39;,
                                       &#39;-48050&#39;,
                                       &#39;-48000&#39;,
                                       &#39;+64400&#39;,
                                       &#39;-34700&#39;,
                                       &#39;-49300&#39;,
                                       &#39;+49850&#39;,
                                       &#39;-48150&#39;,
                                       &#39;-48250&#39;,
                                       &#39;150042&#39;,
                                       &#39;-49300&#39;,
                                       &#39;323&#39;,
                                       &#39;31&#39;,
                                       &#39;500&#39;,
                                       &#39;2999&#39;,
                                       &#39;6216&#39;,
                                       &#39;150042&#39;,
                                       &#39;20210820&#39;,
                                       &#39;715&#39;,
                                       &#39;10&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;2251&#39;,
                                       &#39;4019&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0.0000&#39;,
                                       &#39;00000000&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;]},
                           {&#39;values&#39;: [&#39;210540&#39;,
                                       &#39;디와이파워&#39;,
                                       &#39;-14500&#39;,
                                       &#39;14950&#39;,
                                       &#39;-450&#39;,
                                       &#39;5&#39;,
                                       &#39;-3.01&#39;,
                                       &#39;89023&#39;,
                                       &#39;1302&#39;,
                                       &#39;+57&#39;,
                                       &#39;71.75&#39;,
                                       &#39;-72.95&#39;,
                                       &#39;-14500&#39;,
                                       &#39;-14400&#39;,
                                       &#39;-14500&#39;,
                                       &#39;-14550&#39;,
                                       &#39;-14600&#39;,
                                       &#39;-14650&#39;,
                                       &#39;-14700&#39;,
                                       &#39;-14400&#39;,
                                       &#39;-14350&#39;,
                                       &#39;-14300&#39;,
                                       &#39;-14250&#39;,
                                       &#39;-14200&#39;,
                                       &#39;+19400&#39;,
                                       &#39;-10500&#39;,
                                       &#39;14950&#39;,
                                       &#39;+15100&#39;,
                                       &#39;-14300&#39;,
                                       &#39;-14500&#39;,
                                       &#39;150038&#39;,
                                       &#39;14950&#39;,
                                       &#39;484&#39;,
                                       &#39;55&#39;,
                                       &#39;500&#39;,
                                       &#39;1601&#39;,
                                       &#39;11042&#39;,
                                       &#39;150043&#39;,
                                       &#39;20210820&#39;,
                                       &#39;487&#39;,
                                       &#39;1&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;3616&#39;,
                                       &#39;17661&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0.0000&#39;,
                                       &#39;00000000&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;]},
                           {&#39;values&#39;: [&#39;225220&#39;,
                                       &#39;제놀루션&#39;,
                                       &#39;-15300&#39;,
                                       &#39;16150&#39;,
                                       &#39;-850&#39;,
                                       &#39;5&#39;,
                                       &#39;-5.26&#39;,
                                       &#39;228661&#39;,
                                       &#39;3588&#39;,
                                       &#39;+105&#39;,
                                       &#39;30.78&#39;,
                                       &#39;-80.99&#39;,
                                       &#39;-15300&#39;,
                                       &#39;-15250&#39;,
                                       &#39;-15300&#39;,
                                       &#39;-15350&#39;,
                                       &#39;-15400&#39;,
                                       &#39;-15450&#39;,
                                       &#39;-15500&#39;,
                                       &#39;-15250&#39;,
                                       &#39;-15200&#39;,
                                       &#39;-15150&#39;,
                                       &#39;-15100&#39;,
                                       &#39;-15050&#39;,
                                       &#39;+20950&#39;,
                                       &#39;-11350&#39;,
                                       &#39;+16350&#39;,
                                       &#39;+16350&#39;,
                                       &#39;-15250&#39;,
                                       &#39;-15300&#39;,
                                       &#39;150045&#39;,
                                       &#39;+16350&#39;,
                                       &#39;1127&#39;,
                                       &#39;48&#39;,
                                       &#39;500&#39;,
                                       &#39;1464&#39;,
                                       &#39;9567&#39;,
                                       &#39;150048&#39;,
                                       &#39;20210820&#39;,
                                       &#39;343&#39;,
                                       &#39;1654&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;9715&#39;,
                                       &#39;23351&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0.0000&#39;,
                                       &#39;00000000&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;]},
                           {&#39;values&#39;: [&#39;248170&#39;,
                                       &#39;샘표식품&#39;,
                                       &#39;-46250&#39;,
                                       &#39;47250&#39;,
                                       &#39;-1000&#39;,
                                       &#39;5&#39;,
                                       &#39;-2.12&#39;,
                                       &#39;24460&#39;,
                                       &#39;1154&#39;,
                                       &#39;-43&#39;,
                                       &#39;61.62&#39;,
                                       &#39;-64.81&#39;,
                                       &#39;-46350&#39;,
                                       &#39;-46300&#39;,
                                       &#39;-46350&#39;,
                                       &#39;-46400&#39;,
                                       &#39;-46450&#39;,
                                       &#39;-46500&#39;,
                                       &#39;-46550&#39;,
                                       &#39;-46300&#39;,
                                       &#39;-46250&#39;,
                                       &#39;-46200&#39;,
                                       &#39;-46150&#39;,
                                       &#39;-46100&#39;,
                                       &#39;+61400&#39;,
                                       &#39;-33100&#39;,
                                       &#39;+48000&#39;,
                                       &#39;+48700&#39;,
                                       &#39;-46050&#39;,
                                       &#39;-46250&#39;,
                                       &#39;150038&#39;,
                                       &#39;+48000&#39;,
                                       &#39;154&#39;,
                                       &#39;23&#39;,
                                       &#39;500&#39;,
                                       &#39;2113&#39;,
                                       &#39;4568&#39;,
                                       &#39;150049&#39;,
                                       &#39;20210820&#39;,
                                       &#39;2&#39;,
                                       &#39;5&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;220&#39;,
                                       &#39;2249&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0.0000&#39;,
                                       &#39;00000000&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;]},
                           {&#39;values&#39;: [&#39;352700&#39;,
                                       &#39;씨앤투스성진&#39;,
                                       &#39;-20800&#39;,
                                       &#39;21150&#39;,
                                       &#39;-350&#39;,
                                       &#39;5&#39;,
                                       &#39;-1.65&#39;,
                                       &#39;103728&#39;,
                                       &#39;2177&#39;,
                                       &#39;+1&#39;,
                                       &#39;49.42&#39;,
                                       &#39;-51.95&#39;,
                                       &#39;-20800&#39;,
                                       &#39;-20750&#39;,
                                       &#39;-20800&#39;,
                                       &#39;-20900&#39;,
                                       &#39;-20950&#39;,
                                       &#39;-21000&#39;,
                                       &#39;-21050&#39;,
                                       &#39;-20750&#39;,
                                       &#39;-20700&#39;,
                                       &#39;-20650&#39;,
                                       &#39;-20600&#39;,
                                       &#39;-20550&#39;,
                                       &#39;+27450&#39;,
                                       &#39;-14850&#39;,
                                       &#39;21150&#39;,
                                       &#39;+21350&#39;,
                                       &#39;-20700&#39;,
                                       &#39;-20800&#39;,
                                       &#39;150048&#39;,
                                       &#39;21150&#39;,
                                       &#39;1933&#39;,
                                       &#39;50&#39;,
                                       &#39;500&#39;,
                                       &#39;2079&#39;,
                                       &#39;9996&#39;,
                                       &#39;150048&#39;,
                                       &#39;20210820&#39;,
                                       &#39;273&#39;,
                                       &#39;2631&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;5468&#39;,
                                       &#39;15952&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0.0000&#39;,
                                       &#39;00000000&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;]},
                           {&#39;values&#39;: [&#39;950190&#39;,
                                       &#39;미투젠&#39;,
                                       &#39;19850&#39;,
                                       &#39;19850&#39;,
                                       &#39;0&#39;,
                                       &#39;3&#39;,
                                       &#39;0.00&#39;,
                                       &#39;42255&#39;,
                                       &#39;839&#39;,
                                       &#39;+1&#39;,
                                       &#39;65.24&#39;,
                                       &#39;-78.97&#39;,
                                       &#39;19850&#39;,
                                       &#39;-19800&#39;,
                                       &#39;19850&#39;,
                                       &#39;+19900&#39;,
                                       &#39;+19950&#39;,
                                       &#39;+20000&#39;,
                                       &#39;+20050&#39;,
                                       &#39;-19800&#39;,
                                       &#39;-19750&#39;,
                                       &#39;-19700&#39;,
                                       &#39;-19650&#39;,
                                       &#39;-19600&#39;,
                                       &#39;+25800&#39;,
                                       &#39;-13900&#39;,
                                       &#39;19850&#39;,
                                       &#39;+20050&#39;,
                                       &#39;-19650&#39;,
                                       &#39;19850&#39;,
                                       &#39;150017&#39;,
                                       &#39;19850&#39;,
                                       &#39;100&#39;,
                                       &#39;0&#39;,
                                       &#39;0&#39;,
                                       &#39;2696&#39;,
                                       &#39;13580&#39;,
                                       &#39;150046&#39;,
                                       &#39;20210820&#39;,
                                       &#39;1380&#39;,
                                       &#39;10&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;6023&#39;,
                                       &#39;5998&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0.0000&#39;,
                                       &#39;00000000&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;]},
                           {&#39;values&#39;: [&#39;900280&#39;,
                                       &#39;골든센츄리&#39;,
                                       &#39;-385&#39;,
                                       &#39;400&#39;,
                                       &#39;-15&#39;,
                                       &#39;5&#39;,
                                       &#39;-3.75&#39;,
                                       &#39;1669158&#39;,
                                       &#39;651&#39;,
                                       &#39;+10&#39;,
                                       &#39;57.40&#39;,
                                       &#39;-87.29&#39;,
                                       &#39;-385&#39;,
                                       &#39;-383&#39;,
                                       &#39;-385&#39;,
                                       &#39;-386&#39;,
                                       &#39;-387&#39;,
                                       &#39;-388&#39;,
                                       &#39;-389&#39;,
                                       &#39;-383&#39;,
                                       &#39;-382&#39;,
                                       &#39;-381&#39;,
                                       &#39;-380&#39;,
                                       &#39;-379&#39;,
                                       &#39;+520&#39;,
                                       &#39;-280&#39;,
                                       &#39;400&#39;,
                                       &#39;+410&#39;,
                                       &#39;-381&#39;,
                                       &#39;-385&#39;,
                                       &#39;150012&#39;,
                                       &#39;400&#39;,
                                       &#39;8379&#39;,
                                       &#39;35&#39;,
                                       &#39;0.20&#39;,
                                       &#39;680&#39;,
                                       &#39;176574&#39;,
                                       &#39;150039&#39;,
                                       &#39;20210820&#39;,
                                       &#39;34390&#39;,
                                       &#39;12681&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;97947&#39;,
                                       &#39;272667&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0.0000&#39;,
                                       &#39;00000000&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;]},
                           {&#39;values&#39;: [&#39;900250&#39;,
                                       &#39;크리스탈신소재&#39;,
                                       &#39;-1215&#39;,
                                       &#39;1300&#39;,
                                       &#39;-85&#39;,
                                       &#39;5&#39;,
                                       &#39;-6.54&#39;,
                                       &#39;796576&#39;,
                                       &#39;987&#39;,
                                       &#39;+745&#39;,
                                       &#39;39.55&#39;,
                                       &#39;+237.51&#39;,
                                       &#39;-1220&#39;,
                                       &#39;-1210&#39;,
                                       &#39;-1220&#39;,
                                       &#39;-1225&#39;,
                                       &#39;-1230&#39;,
                                       &#39;-1235&#39;,
                                       &#39;-1240&#39;,
                                       &#39;-1210&#39;,
                                       &#39;-1205&#39;,
                                       &#39;-1200&#39;,
                                       &#39;-1195&#39;,
                                       &#39;-1190&#39;,
                                       &#39;+1690&#39;,
                                       &#39;-910&#39;,
                                       &#39;-1290&#39;,
                                       &#39;+1310&#39;,
                                       &#39;-1200&#39;,
                                       &#39;-1215&#39;,
                                       &#39;150013&#39;,
                                       &#39;-1290&#39;,
                                       &#39;3147&#39;,
                                       &#39;34&#39;,
                                       &#39;0.50&#39;,
                                       &#39;824&#39;,
                                       &#39;67784&#39;,
                                       &#39;150033&#39;,
                                       &#39;20210820&#39;,
                                       &#39;6139&#39;,
                                       &#39;2010&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;44303&#39;,
                                       &#39;88408&#39;,
                                       &#39;0&#39;,
                                       &#39;&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0.00&#39;,
                                       &#39;0&#39;,
                                       &#39;0.0000&#39;,
                                       &#39;00000000&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;,
                                       &#39;&#39;]}]},
 &#39;name&#39;: &#39;OnReceiveTrData&#39;}
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2021-08-20 15:00:59,566 [INFO] Stop listening realtime condition events... - &lt;ipython-input-53-9d5bf7e62126&gt;:4
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;_MultiThreadedRendezvous of RPC that terminated with:
        status = StatusCode.CANCELLED
        details = &#34;Locally cancelled by application!&#34;
        debug_error_string = &#34;None&#34;
&gt;
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[55]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">condition_event</span> <span class="o">=</span> <span class="n">events</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">info_event</span> <span class="o">=</span> <span class="n">events</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="n">records</span> <span class="o">=</span> <span class="p">[</span><span class="n">values</span><span class="o">.</span><span class="n">values</span> <span class="k">for</span> <span class="n">values</span> <span class="ow">in</span> <span class="n">info_event</span><span class="o">.</span><span class="n">multi_data</span><span class="o">.</span><span class="n">values</span><span class="p">]</span>
<span class="n">columns</span> <span class="o">=</span> <span class="n">info_event</span><span class="o">.</span><span class="n">multi_data</span><span class="o">.</span><span class="n">names</span>

<span class="n">info</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_records</span><span class="p">(</span><span class="n">records</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[56]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">info</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[56]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>종목코드</th>
      <th>종목명</th>
      <th>현재가</th>
      <th>기준가</th>
      <th>전일대비</th>
      <th>전일대비기호</th>
      <th>등락율</th>
      <th>거래량</th>
      <th>거래대금</th>
      <th>체결량</th>
      <th>...</th>
      <th>ELW만기일</th>
      <th>미결제약정</th>
      <th>미결제전일대비</th>
      <th>이론가</th>
      <th>내재변동성</th>
      <th>델타</th>
      <th>감마</th>
      <th>쎄타</th>
      <th>베가</th>
      <th>로</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>900290</td>
      <td>GRT</td>
      <td>951</td>
      <td>951</td>
      <td>0</td>
      <td>3</td>
      <td>0.00</td>
      <td>0</td>
      <td>0</td>
      <td></td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>1</th>
      <td>900310</td>
      <td>컬러레이</td>
      <td>-1690</td>
      <td>1735</td>
      <td>-45</td>
      <td>5</td>
      <td>-2.59</td>
      <td>171543</td>
      <td>292</td>
      <td>+2</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>2</th>
      <td>900340</td>
      <td>윙입푸드</td>
      <td>-1315</td>
      <td>1325</td>
      <td>-10</td>
      <td>5</td>
      <td>-0.75</td>
      <td>232272</td>
      <td>307</td>
      <td>+1</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>3</th>
      <td>002170</td>
      <td>삼양통상</td>
      <td>-65800</td>
      <td>69000</td>
      <td>-3200</td>
      <td>5</td>
      <td>-4.64</td>
      <td>17917</td>
      <td>1196</td>
      <td>+14</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>4</th>
      <td>007540</td>
      <td>샘표</td>
      <td>-44200</td>
      <td>45850</td>
      <td>-1650</td>
      <td>5</td>
      <td>-3.60</td>
      <td>8706</td>
      <td>393</td>
      <td>-20</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>5</th>
      <td>017890</td>
      <td>한국알콜</td>
      <td>-12800</td>
      <td>13100</td>
      <td>-300</td>
      <td>5</td>
      <td>-2.29</td>
      <td>225361</td>
      <td>2890</td>
      <td>+79</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>6</th>
      <td>023600</td>
      <td>삼보판지</td>
      <td>-14000</td>
      <td>14450</td>
      <td>-450</td>
      <td>5</td>
      <td>-3.11</td>
      <td>82798</td>
      <td>1169</td>
      <td>+3</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>7</th>
      <td>042420</td>
      <td>네오위즈홀딩스</td>
      <td>-29200</td>
      <td>30300</td>
      <td>-1100</td>
      <td>5</td>
      <td>-3.63</td>
      <td>88947</td>
      <td>2619</td>
      <td>+1</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>8</th>
      <td>073560</td>
      <td>우리손에프앤지</td>
      <td>-2255</td>
      <td>2355</td>
      <td>-100</td>
      <td>5</td>
      <td>-4.25</td>
      <td>973752</td>
      <td>2247</td>
      <td>-2000</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>9</th>
      <td>131030</td>
      <td>디에이치피코리아</td>
      <td>-6940</td>
      <td>7100</td>
      <td>-160</td>
      <td>5</td>
      <td>-2.25</td>
      <td>123523</td>
      <td>869</td>
      <td>-10</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>10</th>
      <td>187870</td>
      <td>디바이스이엔지</td>
      <td>-33500</td>
      <td>34650</td>
      <td>-1150</td>
      <td>5</td>
      <td>-3.32</td>
      <td>62770</td>
      <td>2147</td>
      <td>-10</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>11</th>
      <td>192440</td>
      <td>슈피겐코리아</td>
      <td>-48250</td>
      <td>49550</td>
      <td>-1300</td>
      <td>5</td>
      <td>-2.62</td>
      <td>37417</td>
      <td>1823</td>
      <td>+10</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>12</th>
      <td>210540</td>
      <td>디와이파워</td>
      <td>-14500</td>
      <td>14950</td>
      <td>-450</td>
      <td>5</td>
      <td>-3.01</td>
      <td>89023</td>
      <td>1302</td>
      <td>+57</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>13</th>
      <td>225220</td>
      <td>제놀루션</td>
      <td>-15300</td>
      <td>16150</td>
      <td>-850</td>
      <td>5</td>
      <td>-5.26</td>
      <td>228661</td>
      <td>3588</td>
      <td>+105</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>14</th>
      <td>248170</td>
      <td>샘표식품</td>
      <td>-46250</td>
      <td>47250</td>
      <td>-1000</td>
      <td>5</td>
      <td>-2.12</td>
      <td>24460</td>
      <td>1154</td>
      <td>-43</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>15</th>
      <td>352700</td>
      <td>씨앤투스성진</td>
      <td>-20800</td>
      <td>21150</td>
      <td>-350</td>
      <td>5</td>
      <td>-1.65</td>
      <td>103728</td>
      <td>2177</td>
      <td>+1</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>16</th>
      <td>950190</td>
      <td>미투젠</td>
      <td>19850</td>
      <td>19850</td>
      <td>0</td>
      <td>3</td>
      <td>0.00</td>
      <td>42255</td>
      <td>839</td>
      <td>+1</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>17</th>
      <td>900280</td>
      <td>골든센츄리</td>
      <td>-385</td>
      <td>400</td>
      <td>-15</td>
      <td>5</td>
      <td>-3.75</td>
      <td>1669158</td>
      <td>651</td>
      <td>+10</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>18</th>
      <td>900250</td>
      <td>크리스탈신소재</td>
      <td>-1215</td>
      <td>1300</td>
      <td>-85</td>
      <td>5</td>
      <td>-6.54</td>
      <td>796576</td>
      <td>987</td>
      <td>+745</td>
      <td>...</td>
      <td>00000000</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
<p>19 rows × 63 columns</p>
</div></div>
</div>
</section>
</section>
<section id="6.-주문처리-예시">
<h2>6. 주문처리 예시<a class="headerlink" href="#6.-주문처리-예시" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[57]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">first_account_no</span> <span class="o">=</span> <span class="n">entrypoint</span><span class="o">.</span><span class="n">GetFirstAvailableAccount</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[58]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">request_name</span> <span class="o">=</span> <span class="s2">&quot;삼성전자 1주 시장가 신규 매수&quot;</span>  <span class="c1"># 사용자 구분명, 구분가능한 임의의 문자열</span>
<span class="n">screen_no</span> <span class="o">=</span> <span class="s2">&quot;0001&quot;</span>  <span class="c1"># 화면번호, 0000 을 제외한 4자리 숫자 임의로 지정, None 의 경우 내부적으로 화면번호 자동할당</span>
<span class="n">account_no</span> <span class="o">=</span> <span class="n">first_account_no</span>  <span class="c1"># 계좌번호 10자리, 여기서는 계좌번호 목록에서 첫번째로 발견한 계좌번호로 매수처리</span>
<span class="n">order_type</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># 주문유형, 1 : 신규매수</span>
<span class="n">code</span> <span class="o">=</span> <span class="n">samsung_code</span>  <span class="c1"># 종목코드, 앞의 삼성전자 종목코드</span>
<span class="n">quantity</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># 주문수량, 1주 매수</span>
<span class="n">price</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># 주문가격, 시장가 매수는 가격설정 의미없음</span>
<span class="n">quote_type</span> <span class="o">=</span> <span class="s2">&quot;03&quot;</span>  <span class="c1"># 거래구분, 03 : 시장가</span>
<span class="n">original_order_no</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>  <span class="c1"># 원주문번호, 주문 정정/취소 등에서 사용</span>
</pre></div>
</div>
</div>
<p>주문유형 및 거래구분 등과 관련된 자세한 정보들은 <a class="reference external" href="https://download.kiwoom.com/web/openapi/kiwoom_openapi_plus_devguide_ver_1.5.pdf#page=7">KOAStudio</a> 프로그램에서 확인할 수 있다.</p>
<p>주문처리는 실제 시장이 열려있는 동안에만 테스트해볼 수 있기 때문에, 현재 장이 열려 있는지 먼저 확인하고 해당 경우에 한정해서 테스트를 진행한다.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[59]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">pandas</span> <span class="kn">import</span> <span class="n">Timestamp</span>
<span class="kn">from</span> <span class="nn">exchange_calendars</span> <span class="kn">import</span> <span class="n">get_calendar</span>

<span class="n">krx_calendar</span> <span class="o">=</span> <span class="n">get_calendar</span><span class="p">(</span><span class="s1">&#39;XKRX&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">is_currently_in_session</span><span class="p">():</span>
    <span class="n">now</span> <span class="o">=</span> <span class="n">Timestamp</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">krx_calendar</span><span class="o">.</span><span class="n">tz</span><span class="p">)</span>
    <span class="n">previous_open</span> <span class="o">=</span> <span class="n">krx_calendar</span><span class="o">.</span><span class="n">previous_open</span><span class="p">(</span><span class="n">now</span><span class="p">)</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">krx_calendar</span><span class="o">.</span><span class="n">tz</span><span class="p">)</span>
    <span class="n">next_close</span> <span class="o">=</span> <span class="n">krx_calendar</span><span class="o">.</span><span class="n">next_close</span><span class="p">(</span><span class="n">previous_open</span><span class="p">)</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">krx_calendar</span><span class="o">.</span><span class="n">tz</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">previous_open</span> <span class="o">&lt;=</span> <span class="n">now</span> <span class="o">&lt;=</span> <span class="n">next_close</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[60]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">if</span> <span class="n">is_currently_in_session</span><span class="p">():</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Sending order to buy </span><span class="si">%s</span><span class="s1">, quantity of 1 stock, at market price...&#39;</span><span class="p">,</span> <span class="n">code</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">entrypoint</span><span class="o">.</span><span class="n">OrderCall</span><span class="p">(</span><span class="n">request_name</span><span class="p">,</span> <span class="n">screen_no</span><span class="p">,</span> <span class="n">account_no</span><span class="p">,</span> <span class="n">order_type</span><span class="p">,</span> <span class="n">code</span><span class="p">,</span> <span class="n">quantity</span><span class="p">,</span> <span class="n">price</span><span class="p">,</span> <span class="n">quote_type</span><span class="p">,</span> <span class="n">original_order_no</span><span class="p">):</span>
        <span class="n">pprint_event</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Cannot send an order while market is not open, skipping...&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2021-08-20 15:01:04,965 [INFO] Sending order to buy 005930, quantity of 1 stock, at market price... - &lt;ipython-input-60-b9974da51c62&gt;:2
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;arguments&#39;: [{&#39;string_value&#39;: &#39;0001&#39;},
               {&#39;string_value&#39;: &#39;삼성전자 1주 시장가 신규 매수&#39;},
               {&#39;string_value&#39;: &#39;KOA_NORMAL_BUY_KP_ORD&#39;},
               {&#39;string_value&#39;: &#39;[100000] 모의투자 매수주문완료&#39;}],
 &#39;name&#39;: &#39;OnReceiveMsg&#39;}
{&#39;arguments&#39;: [{&#39;string_value&#39;: &#39;0001&#39;},
               {&#39;string_value&#39;: &#39;삼성전자 1주 시장가 신규 매수&#39;},
               {&#39;string_value&#39;: &#39;KOA_NORMAL_BUY_KP_ORD&#39;},
               {&#39;string_value&#39;: &#39;&#39;},
               {&#39;string_value&#39;: &#39;&#39;}],
 &#39;name&#39;: &#39;OnReceiveTrData&#39;,
 &#39;single_data&#39;: {&#39;names&#39;: [&#39;주문번호&#39;], &#39;values&#39;: [&#39;0183248&#39;]}}
{&#39;arguments&#39;: [{&#39;string_value&#39;: &#39;0&#39;},
               {&#39;long_value&#39;: &#39;35&#39;},
               {&#39;string_value&#39;: &#39;9201;9203;9205;9001;912;913;302;900;901;902;903;904;905;906;907;908;909;910;911;10;27;28;914;915;938;939;919;920;921;922;923;949;10010;969;819&#39;}],
 &#39;name&#39;: &#39;OnReceiveChejanData&#39;,
 &#39;single_data&#39;: {&#39;names&#39;: [&#39;계좌번호&#39;,
                           &#39;주문번호&#39;,
                           &#39;관리사번&#39;,
                           &#39;종목코드&#39;,
                           &#39;주문업무구분&#39;,
                           &#39;주문상태&#39;,
                           &#39;종목명&#39;,
                           &#39;주문수량&#39;,
                           &#39;주문가격&#39;,
                           &#39;미체결수량&#39;,
                           &#39;체결누계금액&#39;,
                           &#39;원주문번호&#39;,
                           &#39;주문구분&#39;,
                           &#39;매매구분&#39;,
                           &#39;매도수구분&#39;,
                           &#39;주문/체결시간&#39;,
                           &#39;체결번호&#39;,
                           &#39;체결가&#39;,
                           &#39;체결량&#39;,
                           &#39;현재가&#39;,
                           &#39;매도호가&#39;,
                           &#39;매수호가&#39;,
                           &#39;단위체결가&#39;,
                           &#39;단위체결량&#39;,
                           &#39;당일매매수수료&#39;,
                           &#39;당일매매세금&#39;,
                           &#39;거부사유&#39;,
                           &#39;화면번호&#39;,
                           &#39;터미널번호&#39;,
                           &#39;신용구분(실시간체결용)&#39;,
                           &#39;대출일(실시간체결용)&#39;,
                           &#39;949&#39;,
                           &#39;시간외단일가_현재가&#39;,
                           &#39;969&#39;,
                           &#39;819&#39;],
                 &#39;values&#39;: [&#39;8005771111&#39;,
                            &#39;0183248&#39;,
                            &#39;&#39;,
                            &#39;A005930&#39;,
                            &#39;JJ&#39;,
                            &#39;접수&#39;,
                            &#39;삼성전자&#39;,
                            &#39;1&#39;,
                            &#39;0&#39;,
                            &#39;1&#39;,
                            &#39;0&#39;,
                            &#39;0000000&#39;,
                            &#39;+매수&#39;,
                            &#39;시장가&#39;,
                            &#39;2&#39;,
                            &#39;150106&#39;,
                            &#39;&#39;,
                            &#39;&#39;,
                            &#39;&#39;,
                            &#39;-72700&#39;,
                            &#39;-72700&#39;,
                            &#39;-72600&#39;,
                            &#39;&#39;,
                            &#39;&#39;,
                            &#39;0&#39;,
                            &#39;0&#39;,
                            &#39;0&#39;,
                            &#39;0001&#39;,
                            &#39;&#39;,
                            &#39;00&#39;,
                            &#39;00000000&#39;,
                            &#39;3&#39;,
                            &#39;-72700&#39;,
                            &#39;0&#39;,
                            &#39;0&#39;]}}
{&#39;arguments&#39;: [{&#39;string_value&#39;: &#39;0&#39;},
               {&#39;long_value&#39;: &#39;35&#39;},
               {&#39;string_value&#39;: &#39;9201;9203;9205;9001;912;913;302;900;901;902;903;904;905;906;907;908;909;910;911;10;27;28;914;915;938;939;919;920;921;922;923;949;10010;969;819&#39;}],
 &#39;name&#39;: &#39;OnReceiveChejanData&#39;,
 &#39;single_data&#39;: {&#39;names&#39;: [&#39;계좌번호&#39;,
                           &#39;주문번호&#39;,
                           &#39;관리사번&#39;,
                           &#39;종목코드&#39;,
                           &#39;주문업무구분&#39;,
                           &#39;주문상태&#39;,
                           &#39;종목명&#39;,
                           &#39;주문수량&#39;,
                           &#39;주문가격&#39;,
                           &#39;미체결수량&#39;,
                           &#39;체결누계금액&#39;,
                           &#39;원주문번호&#39;,
                           &#39;주문구분&#39;,
                           &#39;매매구분&#39;,
                           &#39;매도수구분&#39;,
                           &#39;주문/체결시간&#39;,
                           &#39;체결번호&#39;,
                           &#39;체결가&#39;,
                           &#39;체결량&#39;,
                           &#39;현재가&#39;,
                           &#39;매도호가&#39;,
                           &#39;매수호가&#39;,
                           &#39;단위체결가&#39;,
                           &#39;단위체결량&#39;,
                           &#39;당일매매수수료&#39;,
                           &#39;당일매매세금&#39;,
                           &#39;거부사유&#39;,
                           &#39;화면번호&#39;,
                           &#39;터미널번호&#39;,
                           &#39;신용구분(실시간체결용)&#39;,
                           &#39;대출일(실시간체결용)&#39;,
                           &#39;949&#39;,
                           &#39;시간외단일가_현재가&#39;,
                           &#39;969&#39;,
                           &#39;819&#39;],
                 &#39;values&#39;: [&#39;8005771111&#39;,
                            &#39;0183248&#39;,
                            &#39;&#39;,
                            &#39;A005930&#39;,
                            &#39;JJ&#39;,
                            &#39;체결&#39;,
                            &#39;삼성전자&#39;,
                            &#39;1&#39;,
                            &#39;0&#39;,
                            &#39;0&#39;,
                            &#39;72600&#39;,
                            &#39;0000000&#39;,
                            &#39;+매수&#39;,
                            &#39;시장가&#39;,
                            &#39;2&#39;,
                            &#39;150106&#39;,
                            &#39;1390869&#39;,
                            &#39;72600&#39;,
                            &#39;1&#39;,
                            &#39;-72600&#39;,
                            &#39;-72700&#39;,
                            &#39;-72600&#39;,
                            &#39;72600&#39;,
                            &#39;1&#39;,
                            &#39;250&#39;,
                            &#39;0&#39;,
                            &#39;0&#39;,
                            &#39;0001&#39;,
                            &#39;&#39;,
                            &#39;00&#39;,
                            &#39;00000000&#39;,
                            &#39;3&#39;,
                            &#39;-72700&#39;,
                            &#39;0&#39;,
                            &#39;0&#39;]}}
{&#39;arguments&#39;: [{&#39;string_value&#39;: &#39;1&#39;},
               {&#39;long_value&#39;: &#39;34&#39;},
               {&#39;string_value&#39;: &#39;9201;9001;917;916;302;10;930;931;932;933;945;946;950;951;27;28;307;8019;957;958;918;990;991;992;993;959;924;10010;25;11;12;306;305;970&#39;}],
 &#39;name&#39;: &#39;OnReceiveChejanData&#39;,
 &#39;single_data&#39;: {&#39;names&#39;: [&#39;계좌번호&#39;,
                           &#39;종목코드&#39;,
                           &#39;신용구분&#39;,
                           &#39;대출일&#39;,
                           &#39;종목명&#39;,
                           &#39;현재가&#39;,
                           &#39;보유수량&#39;,
                           &#39;매입단가&#39;,
                           &#39;총매입가&#39;,
                           &#39;주문가능수량&#39;,
                           &#39;당일순매수수량&#39;,
                           &#39;매도/매수구분&#39;,
                           &#39;당일총매도손익&#39;,
                           &#39;예수금&#39;,
                           &#39;매도호가&#39;,
                           &#39;매수호가&#39;,
                           &#39;기준가&#39;,
                           &#39;손익율&#39;,
                           &#39;신용금액&#39;,
                           &#39;신용이자&#39;,
                           &#39;만기일&#39;,
                           &#39;당일실현손익(유가)&#39;,
                           &#39;당일실현손익률(유가)&#39;,
                           &#39;당일실현손익(신용)&#39;,
                           &#39;당일실현손익률(신용)&#39;,
                           &#39;담보대출수량&#39;,
                           &#39;여분아이템&#39;,
                           &#39;시간외단일가_현재가&#39;,
                           &#39;전일대비기호&#39;,
                           &#39;전일대비&#39;,
                           &#39;등락율&#39;,
                           &#39;하한가&#39;,
                           &#39;상한가&#39;,
                           &#39;970&#39;],
                 &#39;values&#39;: [&#39;8005771111&#39;,
                            &#39;A005930&#39;,
                            &#39;00&#39;,
                            &#39;00000000&#39;,
                            &#39;삼성전자&#39;,
                            &#39;-72600&#39;,
                            &#39;10&#39;,
                            &#39;75510&#39;,
                            &#39;755100&#39;,
                            &#39;10&#39;,
                            &#39;5&#39;,
                            &#39;2&#39;,
                            &#39;0&#39;,
                            &#39;0&#39;,
                            &#39;-72700&#39;,
                            &#39;-72600&#39;,
                            &#39;73100&#39;,
                            &#39;0.00&#39;,
                            &#39;0&#39;,
                            &#39;0&#39;,
                            &#39;00000000&#39;,
                            &#39;0&#39;,
                            &#39;0.00&#39;,
                            &#39;0&#39;,
                            &#39;0.00&#39;,
                            &#39;0&#39;,
                            &#39;0&#39;,
                            &#39;-72700&#39;,
                            &#39;5&#39;,
                            &#39;-500&#39;,
                            &#39;-0.68&#39;,
                            &#39;-51200&#39;,
                            &#39;+95000&#39;,
                            &#39;10&#39;]}}
</pre></div></div>
</div>
<p>주문 이벤트는 기본적으로 주문수량이 모두 소진되기 전까지 이벤트를 듣도록 되어있으며, 다른 이벤트 스트림과 동일하게 <code class="docutils literal notranslate"><span class="pre">stream.cancel()</span></code> 의 형태로 이벤트 스트림을 더이상 듣지 않도록 하는것이 가능하다. 다만 이벤트 스트림을 취소하는 것이 기존 주문까지 취소하는 것은 아니기 때문에 주문취소나 정정등을 위해서는 별도의 취소/정정 주문을 넣어줘야 한다.</p>
<p>여기서 반환되는 이벤트 객체 역시 앞선 TR 예시에서와 동일하게 <code class="docutils literal notranslate"><span class="pre">ListenResponse</span></code> 타입의 gRPC 메시지 형태로 반환된다.</p>
</section>
<section id="7.-실시간-데이터-처리-예시">
<h2>7. 실시간 데이터 처리 예시<a class="headerlink" href="#7.-실시간-데이터-처리-예시" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[61]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">koapy</span> <span class="kn">import</span> <span class="n">KiwoomOpenApiPlusRealType</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[62]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">code_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">code</span><span class="p">]</span>
<span class="n">fid_list</span> <span class="o">=</span> <span class="n">KiwoomOpenApiPlusRealType</span><span class="o">.</span><span class="n">get_fids_by_realtype_name</span><span class="p">(</span><span class="s1">&#39;주식시세&#39;</span><span class="p">)</span>
<span class="n">opt_type</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span> <span class="c1"># 기존 화면에 추가가 아니라 신규 생성, 1 의 경우 기존 화면번호에 추가</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[63]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Start listening realtime stock data for code: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">code</span><span class="p">)</span>
<span class="n">stream</span> <span class="o">=</span> <span class="n">entrypoint</span><span class="o">.</span><span class="n">GetRealDataForCodesAsStream</span><span class="p">(</span>
    <span class="n">code_list</span><span class="p">,</span>
    <span class="n">fid_list</span><span class="p">,</span>
    <span class="n">opt_type</span><span class="p">,</span>
    <span class="n">screen_no</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># 화면번호, 0000 을 제외한 4자리 숫자 임의로 지정, None 의 경우 내부적으로 화면번호 자동할당</span>
    <span class="n">infer_fids</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="c1"># True 로 설정 시 주어진 fid_list 를 고집하지 말고 이벤트 처리 함수의 인자로 전달받는 실시간데이터 이름에 따라 유연하게 fid_list 를 추론</span>
    <span class="n">readable_names</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="c1"># True 로 설정 시 각 fid 마다 숫자 대신 읽을 수 있는 이름으로 변환하여 반환</span>
    <span class="n">fast_parse</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># True 로 설정 시 이벤트 처리 함수내에서 데이터 값 읽기 시 GetCommRealData() 함수 호출 대신, 이벤트 처리 함수의 인자로 넘어오는 데이터를 직접 활용, infer_fids 가 True 로 설정된 경우만 유의미함</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2021-08-20 15:01:06,371 [INFO] Start listening realtime stock data for code: 005930 - &lt;ipython-input-63-afa09dda3f40&gt;:1
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[64]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">threading</span>

<span class="k">def</span> <span class="nf">stop_listening</span><span class="p">():</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Stop listening realtime events...&#39;</span><span class="p">)</span>
    <span class="n">stream</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>

<span class="n">threading</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">stop_listening</span><span class="p">)</span><span class="o">.</span><span class="n">start</span><span class="p">()</span> <span class="c1"># 10초 이후에 gRPC 커넥션 종료하도록 설정</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[65]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">grpc</span>

<span class="k">try</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">event</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">stream</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
            <span class="n">pprint_event</span><span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="c1"># 노트북 출력이 너무 길어질 수 있어 최초 10개만 출력</span>
<span class="k">except</span> <span class="n">grpc</span><span class="o">.</span><span class="n">RpcError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;arguments&#39;: [{&#39;string_value&#39;: &#39;005930&#39;},
               {&#39;string_value&#39;: &#39;주식체결&#39;},
               {&#39;string_value&#39;: &#39;150108\t-72600\t-500\t-0.68\t-72700\t-72600\t&#39;
                                &#39;-119\t19777315\t1445749\t+73500\t+73900\t&#39;
                                &#39;-72500\t5\t-2388983\t-185079540400\t-89.22\t&#39;
                                &#39;0.33\t190\t88.60\t4334062\t2\t0\t-88.65\t&#39;
                                &#39;000000\t000000\t10558\t090017\t090302\t&#39;
                                &#39;144847\t10280553\t9108958\t-46.98\t39337\t&#39;
                                &#39;121678\t-8639\t-119\t 0\t-119\t7260\t5808\t&#39;
                                &#39;73101\t387&#39;}],
 &#39;name&#39;: &#39;OnReceiveRealData&#39;,
 &#39;single_data&#39;: {&#39;names&#39;: [&#39;체결시간&#39;,
                           &#39;현재가&#39;,
                           &#39;전일대비&#39;,
                           &#39;등락율&#39;,
                           &#39;매도호가&#39;,
                           &#39;매수호가&#39;,
                           &#39;거래량&#39;,
                           &#39;누적거래량&#39;,
                           &#39;누적거래대금&#39;,
                           &#39;시가&#39;,
                           &#39;고가&#39;,
                           &#39;저가&#39;,
                           &#39;전일대비기호&#39;,
                           &#39;거래량전일대비&#39;,
                           &#39;거래대금증감&#39;,
                           &#39;전일거래량대비율&#39;,
                           &#39;거래회전율&#39;,
                           &#39;거래비용&#39;,
                           &#39;체결강도&#39;,
                           &#39;시가총액&#39;,
                           &#39;장구분&#39;,
                           &#39;KO접근도&#39;,
                           &#39;822&#39;,
                           &#39;상한가발생시간&#39;,
                           &#39;하한가발생시간&#39;,
                           &#39;851&#39;,
                           &#39;1890&#39;,
                           &#39;1891&#39;,
                           &#39;1892&#39;,
                           &#39;1030&#39;,
                           &#39;1031&#39;,
                           &#39;1032&#39;,
                           &#39;1071&#39;,
                           &#39;1072&#39;,
                           &#39;1313&#39;,
                           &#39;1315&#39;,
                           &#39;1316&#39;,
                           &#39;1314&#39;,
                           &#39;1497&#39;,
                           &#39;1498&#39;,
                           &#39;620&#39;,
                           &#39;732&#39;],
                 &#39;values&#39;: [&#39;150108&#39;,
                            &#39;-72600&#39;,
                            &#39;-500&#39;,
                            &#39;-0.68&#39;,
                            &#39;-72700&#39;,
                            &#39;-72600&#39;,
                            &#39;-119&#39;,
                            &#39;19777315&#39;,
                            &#39;1445749&#39;,
                            &#39;+73500&#39;,
                            &#39;+73900&#39;,
                            &#39;-72500&#39;,
                            &#39;5&#39;,
                            &#39;-2388983&#39;,
                            &#39;-185079540400&#39;,
                            &#39;-89.22&#39;,
                            &#39;0.33&#39;,
                            &#39;190&#39;,
                            &#39;88.60&#39;,
                            &#39;4334062&#39;,
                            &#39;2&#39;,
                            &#39;0&#39;,
                            &#39;-88.65&#39;,
                            &#39;000000&#39;,
                            &#39;000000&#39;,
                            &#39;10558&#39;,
                            &#39;090017&#39;,
                            &#39;090302&#39;,
                            &#39;144847&#39;,
                            &#39;10280553&#39;,
                            &#39;9108958&#39;,
                            &#39;-46.98&#39;,
                            &#39;39337&#39;,
                            &#39;121678&#39;,
                            &#39;-8639&#39;,
                            &#39;-119&#39;,
                            &#39; 0&#39;,
                            &#39;-119&#39;,
                            &#39;7260&#39;,
                            &#39;5808&#39;,
                            &#39;73101&#39;,
                            &#39;387&#39;]}}
{&#39;arguments&#39;: [{&#39;string_value&#39;: &#39;005930&#39;},
               {&#39;string_value&#39;: &#39;주식체결&#39;},
               {&#39;string_value&#39;: &#39;150108\t-72700\t-400\t-0.55\t-72700\t-72600\t&#39;
                                &#39;+10\t19777325\t1445750\t+73500\t+73900\t&#39;
                                &#39;-72500\t5\t-2388973\t-185078813400\t-89.22\t&#39;
                                &#39;0.33\t190\t88.60\t4340032\t2\t0\t-88.65\t&#39;
                                &#39;000000\t000000\t10558\t090017\t090302\t&#39;
                                &#39;144847\t10280553\t9108968\t-46.98\t39337\t&#39;
                                &#39;121679\t+727\t 0\t+10\t+10\t7270\t5816\t&#39;
                                &#39;73101\t387&#39;}],
 &#39;name&#39;: &#39;OnReceiveRealData&#39;,
 &#39;single_data&#39;: {&#39;names&#39;: [&#39;체결시간&#39;,
                           &#39;현재가&#39;,
                           &#39;전일대비&#39;,
                           &#39;등락율&#39;,
                           &#39;매도호가&#39;,
                           &#39;매수호가&#39;,
                           &#39;거래량&#39;,
                           &#39;누적거래량&#39;,
                           &#39;누적거래대금&#39;,
                           &#39;시가&#39;,
                           &#39;고가&#39;,
                           &#39;저가&#39;,
                           &#39;전일대비기호&#39;,
                           &#39;거래량전일대비&#39;,
                           &#39;거래대금증감&#39;,
                           &#39;전일거래량대비율&#39;,
                           &#39;거래회전율&#39;,
                           &#39;거래비용&#39;,
                           &#39;체결강도&#39;,
                           &#39;시가총액&#39;,
                           &#39;장구분&#39;,
                           &#39;KO접근도&#39;,
                           &#39;822&#39;,
                           &#39;상한가발생시간&#39;,
                           &#39;하한가발생시간&#39;,
                           &#39;851&#39;,
                           &#39;1890&#39;,
                           &#39;1891&#39;,
                           &#39;1892&#39;,
                           &#39;1030&#39;,
                           &#39;1031&#39;,
                           &#39;1032&#39;,
                           &#39;1071&#39;,
                           &#39;1072&#39;,
                           &#39;1313&#39;,
                           &#39;1315&#39;,
                           &#39;1316&#39;,
                           &#39;1314&#39;,
                           &#39;1497&#39;,
                           &#39;1498&#39;,
                           &#39;620&#39;,
                           &#39;732&#39;],
                 &#39;values&#39;: [&#39;150108&#39;,
                            &#39;-72700&#39;,
                            &#39;-400&#39;,
                            &#39;-0.55&#39;,
                            &#39;-72700&#39;,
                            &#39;-72600&#39;,
                            &#39;+10&#39;,
                            &#39;19777325&#39;,
                            &#39;1445750&#39;,
                            &#39;+73500&#39;,
                            &#39;+73900&#39;,
                            &#39;-72500&#39;,
                            &#39;5&#39;,
                            &#39;-2388973&#39;,
                            &#39;-185078813400&#39;,
                            &#39;-89.22&#39;,
                            &#39;0.33&#39;,
                            &#39;190&#39;,
                            &#39;88.60&#39;,
                            &#39;4340032&#39;,
                            &#39;2&#39;,
                            &#39;0&#39;,
                            &#39;-88.65&#39;,
                            &#39;000000&#39;,
                            &#39;000000&#39;,
                            &#39;10558&#39;,
                            &#39;090017&#39;,
                            &#39;090302&#39;,
                            &#39;144847&#39;,
                            &#39;10280553&#39;,
                            &#39;9108968&#39;,
                            &#39;-46.98&#39;,
                            &#39;39337&#39;,
                            &#39;121679&#39;,
                            &#39;+727&#39;,
                            &#39; 0&#39;,
                            &#39;+10&#39;,
                            &#39;+10&#39;,
                            &#39;7270&#39;,
                            &#39;5816&#39;,
                            &#39;73101&#39;,
                            &#39;387&#39;]}}
{&#39;arguments&#39;: [{&#39;string_value&#39;: &#39;005930&#39;},
               {&#39;string_value&#39;: &#39;주식체결&#39;},
               {&#39;string_value&#39;: &#39;150108\t-72600\t-500\t-0.68\t-72700\t-72600\t&#39;
                                &#39;-30\t19777355\t1445752\t+73500\t+73900\t&#39;
                                &#39;-72500\t5\t-2388943\t-185076635400\t-89.22\t&#39;
                                &#39;0.33\t190\t88.60\t4334062\t2\t0\t-88.65\t&#39;
                                &#39;000000\t000000\t10558\t090017\t090302\t&#39;
                                &#39;144847\t10280583\t9108968\t-46.98\t39338\t&#39;
                                &#39;121679\t-2178\t-30\t 0\t-30\t7260\t5808\t&#39;
                                &#39;73101\t387&#39;}],
 &#39;name&#39;: &#39;OnReceiveRealData&#39;,
 &#39;single_data&#39;: {&#39;names&#39;: [&#39;체결시간&#39;,
                           &#39;현재가&#39;,
                           &#39;전일대비&#39;,
                           &#39;등락율&#39;,
                           &#39;매도호가&#39;,
                           &#39;매수호가&#39;,
                           &#39;거래량&#39;,
                           &#39;누적거래량&#39;,
                           &#39;누적거래대금&#39;,
                           &#39;시가&#39;,
                           &#39;고가&#39;,
                           &#39;저가&#39;,
                           &#39;전일대비기호&#39;,
                           &#39;거래량전일대비&#39;,
                           &#39;거래대금증감&#39;,
                           &#39;전일거래량대비율&#39;,
                           &#39;거래회전율&#39;,
                           &#39;거래비용&#39;,
                           &#39;체결강도&#39;,
                           &#39;시가총액&#39;,
                           &#39;장구분&#39;,
                           &#39;KO접근도&#39;,
                           &#39;822&#39;,
                           &#39;상한가발생시간&#39;,
                           &#39;하한가발생시간&#39;,
                           &#39;851&#39;,
                           &#39;1890&#39;,
                           &#39;1891&#39;,
                           &#39;1892&#39;,
                           &#39;1030&#39;,
                           &#39;1031&#39;,
                           &#39;1032&#39;,
                           &#39;1071&#39;,
                           &#39;1072&#39;,
                           &#39;1313&#39;,
                           &#39;1315&#39;,
                           &#39;1316&#39;,
                           &#39;1314&#39;,
                           &#39;1497&#39;,
                           &#39;1498&#39;,
                           &#39;620&#39;,
                           &#39;732&#39;],
                 &#39;values&#39;: [&#39;150108&#39;,
                            &#39;-72600&#39;,
                            &#39;-500&#39;,
                            &#39;-0.68&#39;,
                            &#39;-72700&#39;,
                            &#39;-72600&#39;,
                            &#39;-30&#39;,
                            &#39;19777355&#39;,
                            &#39;1445752&#39;,
                            &#39;+73500&#39;,
                            &#39;+73900&#39;,
                            &#39;-72500&#39;,
                            &#39;5&#39;,
                            &#39;-2388943&#39;,
                            &#39;-185076635400&#39;,
                            &#39;-89.22&#39;,
                            &#39;0.33&#39;,
                            &#39;190&#39;,
                            &#39;88.60&#39;,
                            &#39;4334062&#39;,
                            &#39;2&#39;,
                            &#39;0&#39;,
                            &#39;-88.65&#39;,
                            &#39;000000&#39;,
                            &#39;000000&#39;,
                            &#39;10558&#39;,
                            &#39;090017&#39;,
                            &#39;090302&#39;,
                            &#39;144847&#39;,
                            &#39;10280583&#39;,
                            &#39;9108968&#39;,
                            &#39;-46.98&#39;,
                            &#39;39338&#39;,
                            &#39;121679&#39;,
                            &#39;-2178&#39;,
                            &#39;-30&#39;,
                            &#39; 0&#39;,
                            &#39;-30&#39;,
                            &#39;7260&#39;,
                            &#39;5808&#39;,
                            &#39;73101&#39;,
                            &#39;387&#39;]}}
{&#39;arguments&#39;: [{&#39;string_value&#39;: &#39;005930&#39;},
               {&#39;string_value&#39;: &#39;주식체결&#39;},
               {&#39;string_value&#39;: &#39;150108\t-72600\t-500\t-0.68\t-72700\t-72600\t&#39;
                                &#39;-664\t19778019\t1445800\t+73500\t+73900\t&#39;
                                &#39;-72500\t5\t-2388279\t-185028429000\t-89.23\t&#39;
                                &#39;0.33\t190\t88.60\t4334062\t2\t0\t-88.65\t&#39;
                                &#39;000000\t000000\t10558\t090017\t090302\t&#39;
                                &#39;144847\t10281247\t9108968\t-46.98\t39339\t&#39;
                                &#39;121679\t-48206\t-664\t 0\t-664\t7260\t5808\t&#39;
                                &#39;73101\t387&#39;}],
 &#39;name&#39;: &#39;OnReceiveRealData&#39;,
 &#39;single_data&#39;: {&#39;names&#39;: [&#39;체결시간&#39;,
                           &#39;현재가&#39;,
                           &#39;전일대비&#39;,
                           &#39;등락율&#39;,
                           &#39;매도호가&#39;,
                           &#39;매수호가&#39;,
                           &#39;거래량&#39;,
                           &#39;누적거래량&#39;,
                           &#39;누적거래대금&#39;,
                           &#39;시가&#39;,
                           &#39;고가&#39;,
                           &#39;저가&#39;,
                           &#39;전일대비기호&#39;,
                           &#39;거래량전일대비&#39;,
                           &#39;거래대금증감&#39;,
                           &#39;전일거래량대비율&#39;,
                           &#39;거래회전율&#39;,
                           &#39;거래비용&#39;,
                           &#39;체결강도&#39;,
                           &#39;시가총액&#39;,
                           &#39;장구분&#39;,
                           &#39;KO접근도&#39;,
                           &#39;822&#39;,
                           &#39;상한가발생시간&#39;,
                           &#39;하한가발생시간&#39;,
                           &#39;851&#39;,
                           &#39;1890&#39;,
                           &#39;1891&#39;,
                           &#39;1892&#39;,
                           &#39;1030&#39;,
                           &#39;1031&#39;,
                           &#39;1032&#39;,
                           &#39;1071&#39;,
                           &#39;1072&#39;,
                           &#39;1313&#39;,
                           &#39;1315&#39;,
                           &#39;1316&#39;,
                           &#39;1314&#39;,
                           &#39;1497&#39;,
                           &#39;1498&#39;,
                           &#39;620&#39;,
                           &#39;732&#39;],
                 &#39;values&#39;: [&#39;150108&#39;,
                            &#39;-72600&#39;,
                            &#39;-500&#39;,
                            &#39;-0.68&#39;,
                            &#39;-72700&#39;,
                            &#39;-72600&#39;,
                            &#39;-664&#39;,
                            &#39;19778019&#39;,
                            &#39;1445800&#39;,
                            &#39;+73500&#39;,
                            &#39;+73900&#39;,
                            &#39;-72500&#39;,
                            &#39;5&#39;,
                            &#39;-2388279&#39;,
                            &#39;-185028429000&#39;,
                            &#39;-89.23&#39;,
                            &#39;0.33&#39;,
                            &#39;190&#39;,
                            &#39;88.60&#39;,
                            &#39;4334062&#39;,
                            &#39;2&#39;,
                            &#39;0&#39;,
                            &#39;-88.65&#39;,
                            &#39;000000&#39;,
                            &#39;000000&#39;,
                            &#39;10558&#39;,
                            &#39;090017&#39;,
                            &#39;090302&#39;,
                            &#39;144847&#39;,
                            &#39;10281247&#39;,
                            &#39;9108968&#39;,
                            &#39;-46.98&#39;,
                            &#39;39339&#39;,
                            &#39;121679&#39;,
                            &#39;-48206&#39;,
                            &#39;-664&#39;,
                            &#39; 0&#39;,
                            &#39;-664&#39;,
                            &#39;7260&#39;,
                            &#39;5808&#39;,
                            &#39;73101&#39;,
                            &#39;387&#39;]}}
{&#39;arguments&#39;: [{&#39;string_value&#39;: &#39;005930&#39;},
               {&#39;string_value&#39;: &#39;주식체결&#39;},
               {&#39;string_value&#39;: &#39;150108\t-72600\t-500\t-0.68\t-72700\t-72600\t&#39;
                                &#39;-1\t19778020\t1445800\t+73500\t+73900\t&#39;
                                &#39;-72500\t5\t-2388278\t-185028356400\t-89.23\t&#39;
                                &#39;0.33\t190\t88.60\t4334062\t2\t0\t-88.65\t&#39;
                                &#39;000000\t000000\t10558\t090017\t090302\t&#39;
                                &#39;144847\t10281248\t9108968\t-46.98\t39340\t&#39;
                                &#39;121679\t-72\t-1\t 0\t-1\t7260\t5808\t73101\t&#39;
                                &#39;387&#39;}],
 &#39;name&#39;: &#39;OnReceiveRealData&#39;,
 &#39;single_data&#39;: {&#39;names&#39;: [&#39;체결시간&#39;,
                           &#39;현재가&#39;,
                           &#39;전일대비&#39;,
                           &#39;등락율&#39;,
                           &#39;매도호가&#39;,
                           &#39;매수호가&#39;,
                           &#39;거래량&#39;,
                           &#39;누적거래량&#39;,
                           &#39;누적거래대금&#39;,
                           &#39;시가&#39;,
                           &#39;고가&#39;,
                           &#39;저가&#39;,
                           &#39;전일대비기호&#39;,
                           &#39;거래량전일대비&#39;,
                           &#39;거래대금증감&#39;,
                           &#39;전일거래량대비율&#39;,
                           &#39;거래회전율&#39;,
                           &#39;거래비용&#39;,
                           &#39;체결강도&#39;,
                           &#39;시가총액&#39;,
                           &#39;장구분&#39;,
                           &#39;KO접근도&#39;,
                           &#39;822&#39;,
                           &#39;상한가발생시간&#39;,
                           &#39;하한가발생시간&#39;,
                           &#39;851&#39;,
                           &#39;1890&#39;,
                           &#39;1891&#39;,
                           &#39;1892&#39;,
                           &#39;1030&#39;,
                           &#39;1031&#39;,
                           &#39;1032&#39;,
                           &#39;1071&#39;,
                           &#39;1072&#39;,
                           &#39;1313&#39;,
                           &#39;1315&#39;,
                           &#39;1316&#39;,
                           &#39;1314&#39;,
                           &#39;1497&#39;,
                           &#39;1498&#39;,
                           &#39;620&#39;,
                           &#39;732&#39;],
                 &#39;values&#39;: [&#39;150108&#39;,
                            &#39;-72600&#39;,
                            &#39;-500&#39;,
                            &#39;-0.68&#39;,
                            &#39;-72700&#39;,
                            &#39;-72600&#39;,
                            &#39;-1&#39;,
                            &#39;19778020&#39;,
                            &#39;1445800&#39;,
                            &#39;+73500&#39;,
                            &#39;+73900&#39;,
                            &#39;-72500&#39;,
                            &#39;5&#39;,
                            &#39;-2388278&#39;,
                            &#39;-185028356400&#39;,
                            &#39;-89.23&#39;,
                            &#39;0.33&#39;,
                            &#39;190&#39;,
                            &#39;88.60&#39;,
                            &#39;4334062&#39;,
                            &#39;2&#39;,
                            &#39;0&#39;,
                            &#39;-88.65&#39;,
                            &#39;000000&#39;,
                            &#39;000000&#39;,
                            &#39;10558&#39;,
                            &#39;090017&#39;,
                            &#39;090302&#39;,
                            &#39;144847&#39;,
                            &#39;10281248&#39;,
                            &#39;9108968&#39;,
                            &#39;-46.98&#39;,
                            &#39;39340&#39;,
                            &#39;121679&#39;,
                            &#39;-72&#39;,
                            &#39;-1&#39;,
                            &#39; 0&#39;,
                            &#39;-1&#39;,
                            &#39;7260&#39;,
                            &#39;5808&#39;,
                            &#39;73101&#39;,
                            &#39;387&#39;]}}
{&#39;arguments&#39;: [{&#39;string_value&#39;: &#39;005930&#39;},
               {&#39;string_value&#39;: &#39;주식체결&#39;},
               {&#39;string_value&#39;: &#39;150108\t-72600\t-500\t-0.68\t-72700\t-72600\t&#39;
                                &#39;-18\t19778038\t1445802\t+73500\t+73900\t&#39;
                                &#39;-72500\t5\t-2388260\t-185027049600\t-89.23\t&#39;
                                &#39;0.33\t190\t88.60\t4334062\t2\t0\t-88.65\t&#39;
                                &#39;000000\t000000\t10558\t090017\t090302\t&#39;
                                &#39;144847\t10281266\t9108968\t-46.98\t39341\t&#39;
                                &#39;121679\t-1306\t-18\t 0\t-18\t7260\t5808\t&#39;
                                &#39;73101\t387&#39;}],
 &#39;name&#39;: &#39;OnReceiveRealData&#39;,
 &#39;single_data&#39;: {&#39;names&#39;: [&#39;체결시간&#39;,
                           &#39;현재가&#39;,
                           &#39;전일대비&#39;,
                           &#39;등락율&#39;,
                           &#39;매도호가&#39;,
                           &#39;매수호가&#39;,
                           &#39;거래량&#39;,
                           &#39;누적거래량&#39;,
                           &#39;누적거래대금&#39;,
                           &#39;시가&#39;,
                           &#39;고가&#39;,
                           &#39;저가&#39;,
                           &#39;전일대비기호&#39;,
                           &#39;거래량전일대비&#39;,
                           &#39;거래대금증감&#39;,
                           &#39;전일거래량대비율&#39;,
                           &#39;거래회전율&#39;,
                           &#39;거래비용&#39;,
                           &#39;체결강도&#39;,
                           &#39;시가총액&#39;,
                           &#39;장구분&#39;,
                           &#39;KO접근도&#39;,
                           &#39;822&#39;,
                           &#39;상한가발생시간&#39;,
                           &#39;하한가발생시간&#39;,
                           &#39;851&#39;,
                           &#39;1890&#39;,
                           &#39;1891&#39;,
                           &#39;1892&#39;,
                           &#39;1030&#39;,
                           &#39;1031&#39;,
                           &#39;1032&#39;,
                           &#39;1071&#39;,
                           &#39;1072&#39;,
                           &#39;1313&#39;,
                           &#39;1315&#39;,
                           &#39;1316&#39;,
                           &#39;1314&#39;,
                           &#39;1497&#39;,
                           &#39;1498&#39;,
                           &#39;620&#39;,
                           &#39;732&#39;],
                 &#39;values&#39;: [&#39;150108&#39;,
                            &#39;-72600&#39;,
                            &#39;-500&#39;,
                            &#39;-0.68&#39;,
                            &#39;-72700&#39;,
                            &#39;-72600&#39;,
                            &#39;-18&#39;,
                            &#39;19778038&#39;,
                            &#39;1445802&#39;,
                            &#39;+73500&#39;,
                            &#39;+73900&#39;,
                            &#39;-72500&#39;,
                            &#39;5&#39;,
                            &#39;-2388260&#39;,
                            &#39;-185027049600&#39;,
                            &#39;-89.23&#39;,
                            &#39;0.33&#39;,
                            &#39;190&#39;,
                            &#39;88.60&#39;,
                            &#39;4334062&#39;,
                            &#39;2&#39;,
                            &#39;0&#39;,
                            &#39;-88.65&#39;,
                            &#39;000000&#39;,
                            &#39;000000&#39;,
                            &#39;10558&#39;,
                            &#39;090017&#39;,
                            &#39;090302&#39;,
                            &#39;144847&#39;,
                            &#39;10281266&#39;,
                            &#39;9108968&#39;,
                            &#39;-46.98&#39;,
                            &#39;39341&#39;,
                            &#39;121679&#39;,
                            &#39;-1306&#39;,
                            &#39;-18&#39;,
                            &#39; 0&#39;,
                            &#39;-18&#39;,
                            &#39;7260&#39;,
                            &#39;5808&#39;,
                            &#39;73101&#39;,
                            &#39;387&#39;]}}
{&#39;arguments&#39;: [{&#39;string_value&#39;: &#39;005930&#39;},
               {&#39;string_value&#39;: &#39;주식체결&#39;},
               {&#39;string_value&#39;: &#39;150108\t-72700\t-400\t-0.55\t-72700\t-72600\t&#39;
                                &#39;+1\t19778039\t1445802\t+73500\t+73900\t&#39;
                                &#39;-72500\t5\t-2388259\t-185026976900\t-89.23\t&#39;
                                &#39;0.33\t190\t88.60\t4340032\t2\t0\t-88.65\t&#39;
                                &#39;000000\t000000\t10558\t090017\t090302\t&#39;
                                &#39;144847\t10281266\t9108969\t-46.98\t39341\t&#39;
                                &#39;121680\t+72\t 0\t+1\t+1\t7270\t5816\t73101\t&#39;
                                &#39;387&#39;}],
 &#39;name&#39;: &#39;OnReceiveRealData&#39;,
 &#39;single_data&#39;: {&#39;names&#39;: [&#39;체결시간&#39;,
                           &#39;현재가&#39;,
                           &#39;전일대비&#39;,
                           &#39;등락율&#39;,
                           &#39;매도호가&#39;,
                           &#39;매수호가&#39;,
                           &#39;거래량&#39;,
                           &#39;누적거래량&#39;,
                           &#39;누적거래대금&#39;,
                           &#39;시가&#39;,
                           &#39;고가&#39;,
                           &#39;저가&#39;,
                           &#39;전일대비기호&#39;,
                           &#39;거래량전일대비&#39;,
                           &#39;거래대금증감&#39;,
                           &#39;전일거래량대비율&#39;,
                           &#39;거래회전율&#39;,
                           &#39;거래비용&#39;,
                           &#39;체결강도&#39;,
                           &#39;시가총액&#39;,
                           &#39;장구분&#39;,
                           &#39;KO접근도&#39;,
                           &#39;822&#39;,
                           &#39;상한가발생시간&#39;,
                           &#39;하한가발생시간&#39;,
                           &#39;851&#39;,
                           &#39;1890&#39;,
                           &#39;1891&#39;,
                           &#39;1892&#39;,
                           &#39;1030&#39;,
                           &#39;1031&#39;,
                           &#39;1032&#39;,
                           &#39;1071&#39;,
                           &#39;1072&#39;,
                           &#39;1313&#39;,
                           &#39;1315&#39;,
                           &#39;1316&#39;,
                           &#39;1314&#39;,
                           &#39;1497&#39;,
                           &#39;1498&#39;,
                           &#39;620&#39;,
                           &#39;732&#39;],
                 &#39;values&#39;: [&#39;150108&#39;,
                            &#39;-72700&#39;,
                            &#39;-400&#39;,
                            &#39;-0.55&#39;,
                            &#39;-72700&#39;,
                            &#39;-72600&#39;,
                            &#39;+1&#39;,
                            &#39;19778039&#39;,
                            &#39;1445802&#39;,
                            &#39;+73500&#39;,
                            &#39;+73900&#39;,
                            &#39;-72500&#39;,
                            &#39;5&#39;,
                            &#39;-2388259&#39;,
                            &#39;-185026976900&#39;,
                            &#39;-89.23&#39;,
                            &#39;0.33&#39;,
                            &#39;190&#39;,
                            &#39;88.60&#39;,
                            &#39;4340032&#39;,
                            &#39;2&#39;,
                            &#39;0&#39;,
                            &#39;-88.65&#39;,
                            &#39;000000&#39;,
                            &#39;000000&#39;,
                            &#39;10558&#39;,
                            &#39;090017&#39;,
                            &#39;090302&#39;,
                            &#39;144847&#39;,
                            &#39;10281266&#39;,
                            &#39;9108969&#39;,
                            &#39;-46.98&#39;,
                            &#39;39341&#39;,
                            &#39;121680&#39;,
                            &#39;+72&#39;,
                            &#39; 0&#39;,
                            &#39;+1&#39;,
                            &#39;+1&#39;,
                            &#39;7270&#39;,
                            &#39;5816&#39;,
                            &#39;73101&#39;,
                            &#39;387&#39;]}}
{&#39;arguments&#39;: [{&#39;string_value&#39;: &#39;005930&#39;},
               {&#39;string_value&#39;: &#39;주식체결&#39;},
               {&#39;string_value&#39;: &#39;150108\t-72700\t-400\t-0.55\t-72700\t-72600\t&#39;
                                &#39;+5\t19778044\t1445802\t+73500\t+73900\t&#39;
                                &#39;-72500\t5\t-2388254\t-185026613400\t-89.23\t&#39;
                                &#39;0.33\t190\t88.60\t4340032\t2\t0\t-88.65\t&#39;
                                &#39;000000\t000000\t10558\t090017\t090302\t&#39;
                                &#39;144847\t10281266\t9108974\t-46.98\t39341\t&#39;
                                &#39;121681\t+363\t 0\t+5\t+5\t7270\t5816\t73101\t&#39;
                                &#39;387&#39;}],
 &#39;name&#39;: &#39;OnReceiveRealData&#39;,
 &#39;single_data&#39;: {&#39;names&#39;: [&#39;체결시간&#39;,
                           &#39;현재가&#39;,
                           &#39;전일대비&#39;,
                           &#39;등락율&#39;,
                           &#39;매도호가&#39;,
                           &#39;매수호가&#39;,
                           &#39;거래량&#39;,
                           &#39;누적거래량&#39;,
                           &#39;누적거래대금&#39;,
                           &#39;시가&#39;,
                           &#39;고가&#39;,
                           &#39;저가&#39;,
                           &#39;전일대비기호&#39;,
                           &#39;거래량전일대비&#39;,
                           &#39;거래대금증감&#39;,
                           &#39;전일거래량대비율&#39;,
                           &#39;거래회전율&#39;,
                           &#39;거래비용&#39;,
                           &#39;체결강도&#39;,
                           &#39;시가총액&#39;,
                           &#39;장구분&#39;,
                           &#39;KO접근도&#39;,
                           &#39;822&#39;,
                           &#39;상한가발생시간&#39;,
                           &#39;하한가발생시간&#39;,
                           &#39;851&#39;,
                           &#39;1890&#39;,
                           &#39;1891&#39;,
                           &#39;1892&#39;,
                           &#39;1030&#39;,
                           &#39;1031&#39;,
                           &#39;1032&#39;,
                           &#39;1071&#39;,
                           &#39;1072&#39;,
                           &#39;1313&#39;,
                           &#39;1315&#39;,
                           &#39;1316&#39;,
                           &#39;1314&#39;,
                           &#39;1497&#39;,
                           &#39;1498&#39;,
                           &#39;620&#39;,
                           &#39;732&#39;],
                 &#39;values&#39;: [&#39;150108&#39;,
                            &#39;-72700&#39;,
                            &#39;-400&#39;,
                            &#39;-0.55&#39;,
                            &#39;-72700&#39;,
                            &#39;-72600&#39;,
                            &#39;+5&#39;,
                            &#39;19778044&#39;,
                            &#39;1445802&#39;,
                            &#39;+73500&#39;,
                            &#39;+73900&#39;,
                            &#39;-72500&#39;,
                            &#39;5&#39;,
                            &#39;-2388254&#39;,
                            &#39;-185026613400&#39;,
                            &#39;-89.23&#39;,
                            &#39;0.33&#39;,
                            &#39;190&#39;,
                            &#39;88.60&#39;,
                            &#39;4340032&#39;,
                            &#39;2&#39;,
                            &#39;0&#39;,
                            &#39;-88.65&#39;,
                            &#39;000000&#39;,
                            &#39;000000&#39;,
                            &#39;10558&#39;,
                            &#39;090017&#39;,
                            &#39;090302&#39;,
                            &#39;144847&#39;,
                            &#39;10281266&#39;,
                            &#39;9108974&#39;,
                            &#39;-46.98&#39;,
                            &#39;39341&#39;,
                            &#39;121681&#39;,
                            &#39;+363&#39;,
                            &#39; 0&#39;,
                            &#39;+5&#39;,
                            &#39;+5&#39;,
                            &#39;7270&#39;,
                            &#39;5816&#39;,
                            &#39;73101&#39;,
                            &#39;387&#39;]}}
{&#39;arguments&#39;: [{&#39;string_value&#39;: &#39;005930&#39;},
               {&#39;string_value&#39;: &#39;주식체결&#39;},
               {&#39;string_value&#39;: &#39;150108\t-72700\t-400\t-0.55\t-72700\t-72600\t&#39;
                                &#39;+2\t19778046\t1445802\t+73500\t+73900\t&#39;
                                &#39;-72500\t5\t-2388252\t-185026468000\t-89.23\t&#39;
                                &#39;0.33\t190\t88.60\t4340032\t2\t0\t-88.65\t&#39;
                                &#39;000000\t000000\t10558\t090017\t090302\t&#39;
                                &#39;144847\t10281266\t9108976\t-46.98\t39341\t&#39;
                                &#39;121682\t+145\t 0\t+2\t+2\t7270\t5816\t73101\t&#39;
                                &#39;387&#39;}],
 &#39;name&#39;: &#39;OnReceiveRealData&#39;,
 &#39;single_data&#39;: {&#39;names&#39;: [&#39;체결시간&#39;,
                           &#39;현재가&#39;,
                           &#39;전일대비&#39;,
                           &#39;등락율&#39;,
                           &#39;매도호가&#39;,
                           &#39;매수호가&#39;,
                           &#39;거래량&#39;,
                           &#39;누적거래량&#39;,
                           &#39;누적거래대금&#39;,
                           &#39;시가&#39;,
                           &#39;고가&#39;,
                           &#39;저가&#39;,
                           &#39;전일대비기호&#39;,
                           &#39;거래량전일대비&#39;,
                           &#39;거래대금증감&#39;,
                           &#39;전일거래량대비율&#39;,
                           &#39;거래회전율&#39;,
                           &#39;거래비용&#39;,
                           &#39;체결강도&#39;,
                           &#39;시가총액&#39;,
                           &#39;장구분&#39;,
                           &#39;KO접근도&#39;,
                           &#39;822&#39;,
                           &#39;상한가발생시간&#39;,
                           &#39;하한가발생시간&#39;,
                           &#39;851&#39;,
                           &#39;1890&#39;,
                           &#39;1891&#39;,
                           &#39;1892&#39;,
                           &#39;1030&#39;,
                           &#39;1031&#39;,
                           &#39;1032&#39;,
                           &#39;1071&#39;,
                           &#39;1072&#39;,
                           &#39;1313&#39;,
                           &#39;1315&#39;,
                           &#39;1316&#39;,
                           &#39;1314&#39;,
                           &#39;1497&#39;,
                           &#39;1498&#39;,
                           &#39;620&#39;,
                           &#39;732&#39;],
                 &#39;values&#39;: [&#39;150108&#39;,
                            &#39;-72700&#39;,
                            &#39;-400&#39;,
                            &#39;-0.55&#39;,
                            &#39;-72700&#39;,
                            &#39;-72600&#39;,
                            &#39;+2&#39;,
                            &#39;19778046&#39;,
                            &#39;1445802&#39;,
                            &#39;+73500&#39;,
                            &#39;+73900&#39;,
                            &#39;-72500&#39;,
                            &#39;5&#39;,
                            &#39;-2388252&#39;,
                            &#39;-185026468000&#39;,
                            &#39;-89.23&#39;,
                            &#39;0.33&#39;,
                            &#39;190&#39;,
                            &#39;88.60&#39;,
                            &#39;4340032&#39;,
                            &#39;2&#39;,
                            &#39;0&#39;,
                            &#39;-88.65&#39;,
                            &#39;000000&#39;,
                            &#39;000000&#39;,
                            &#39;10558&#39;,
                            &#39;090017&#39;,
                            &#39;090302&#39;,
                            &#39;144847&#39;,
                            &#39;10281266&#39;,
                            &#39;9108976&#39;,
                            &#39;-46.98&#39;,
                            &#39;39341&#39;,
                            &#39;121682&#39;,
                            &#39;+145&#39;,
                            &#39; 0&#39;,
                            &#39;+2&#39;,
                            &#39;+2&#39;,
                            &#39;7270&#39;,
                            &#39;5816&#39;,
                            &#39;73101&#39;,
                            &#39;387&#39;]}}
{&#39;arguments&#39;: [{&#39;string_value&#39;: &#39;005930&#39;},
               {&#39;string_value&#39;: &#39;주식체결&#39;},
               {&#39;string_value&#39;: &#39;150108\t-72600\t-500\t-0.68\t-72700\t-72600\t&#39;
                                &#39;-215\t19778261\t1445818\t+73500\t+73900\t&#39;
                                &#39;-72500\t5\t-2388037\t-185010859000\t-89.23\t&#39;
                                &#39;0.33\t190\t88.60\t4334062\t2\t0\t-88.66\t&#39;
                                &#39;000000\t000000\t10558\t090017\t090302\t&#39;
                                &#39;144847\t10281481\t9108976\t-46.98\t39342\t&#39;
                                &#39;121682\t-15609\t-215\t 0\t-215\t7260\t5808\t&#39;
                                &#39;73101\t387&#39;}],
 &#39;name&#39;: &#39;OnReceiveRealData&#39;,
 &#39;single_data&#39;: {&#39;names&#39;: [&#39;체결시간&#39;,
                           &#39;현재가&#39;,
                           &#39;전일대비&#39;,
                           &#39;등락율&#39;,
                           &#39;매도호가&#39;,
                           &#39;매수호가&#39;,
                           &#39;거래량&#39;,
                           &#39;누적거래량&#39;,
                           &#39;누적거래대금&#39;,
                           &#39;시가&#39;,
                           &#39;고가&#39;,
                           &#39;저가&#39;,
                           &#39;전일대비기호&#39;,
                           &#39;거래량전일대비&#39;,
                           &#39;거래대금증감&#39;,
                           &#39;전일거래량대비율&#39;,
                           &#39;거래회전율&#39;,
                           &#39;거래비용&#39;,
                           &#39;체결강도&#39;,
                           &#39;시가총액&#39;,
                           &#39;장구분&#39;,
                           &#39;KO접근도&#39;,
                           &#39;822&#39;,
                           &#39;상한가발생시간&#39;,
                           &#39;하한가발생시간&#39;,
                           &#39;851&#39;,
                           &#39;1890&#39;,
                           &#39;1891&#39;,
                           &#39;1892&#39;,
                           &#39;1030&#39;,
                           &#39;1031&#39;,
                           &#39;1032&#39;,
                           &#39;1071&#39;,
                           &#39;1072&#39;,
                           &#39;1313&#39;,
                           &#39;1315&#39;,
                           &#39;1316&#39;,
                           &#39;1314&#39;,
                           &#39;1497&#39;,
                           &#39;1498&#39;,
                           &#39;620&#39;,
                           &#39;732&#39;],
                 &#39;values&#39;: [&#39;150108&#39;,
                            &#39;-72600&#39;,
                            &#39;-500&#39;,
                            &#39;-0.68&#39;,
                            &#39;-72700&#39;,
                            &#39;-72600&#39;,
                            &#39;-215&#39;,
                            &#39;19778261&#39;,
                            &#39;1445818&#39;,
                            &#39;+73500&#39;,
                            &#39;+73900&#39;,
                            &#39;-72500&#39;,
                            &#39;5&#39;,
                            &#39;-2388037&#39;,
                            &#39;-185010859000&#39;,
                            &#39;-89.23&#39;,
                            &#39;0.33&#39;,
                            &#39;190&#39;,
                            &#39;88.60&#39;,
                            &#39;4334062&#39;,
                            &#39;2&#39;,
                            &#39;0&#39;,
                            &#39;-88.66&#39;,
                            &#39;000000&#39;,
                            &#39;000000&#39;,
                            &#39;10558&#39;,
                            &#39;090017&#39;,
                            &#39;090302&#39;,
                            &#39;144847&#39;,
                            &#39;10281481&#39;,
                            &#39;9108976&#39;,
                            &#39;-46.98&#39;,
                            &#39;39342&#39;,
                            &#39;121682&#39;,
                            &#39;-15609&#39;,
                            &#39;-215&#39;,
                            &#39; 0&#39;,
                            &#39;-215&#39;,
                            &#39;7260&#39;,
                            &#39;5808&#39;,
                            &#39;73101&#39;,
                            &#39;387&#39;]}}
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2021-08-20 15:01:16,400 [INFO] Stop listening realtime events... - &lt;ipython-input-64-012ca4499cf7&gt;:4
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;_MultiThreadedRendezvous of RPC that terminated with:
        status = StatusCode.CANCELLED
        details = &#34;Locally cancelled by application!&#34;
        debug_error_string = &#34;None&#34;
&gt;
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2021, Yunseong Hwang.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/notebooks_ipynb/koapy-tutorial.ipynb"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/elbakramer/koapy" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-179490468-1']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    
  </body>
</html>